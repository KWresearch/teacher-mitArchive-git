ThoughtTreasure, the hard 
common sense problem, and 
applications of common sense

Erik T. Mueller
IBM Research*
*Work performed while at Signiform

Talk plan
(cid:132) ThoughtTreasure overview
(cid:132) ThoughtTreasure and the hard common 
sense problem
(cid:132) Applications of common sense
- SensiCal
*
- NewsForms

*Work performed at the MIT Media Lab and Signiform

ThoughtTreasure

(cid:132) Common Sense knowledge base
(cid:132) Architecture for natural language 
understanding
(cid:132) Uses multiple representations:
logic, finite automata, grids, scripts

ThoughtTreasure KB

(cid:132) 35,023 English words/phrases
(cid:132) 21,529 French words/phrases
(cid:132) 51,305 commonsense assertions
(cid:132) 27,093 concepts

ThoughtTreasure in CycL

(cid:132) Including linguistic knowledge
(cid:132) 547,651 assertions
(cid:132) 72,554 constants

ThoughtTreasure architecture
80,000 lines of code

(cid:132) Text agency
(cid:132) Syntactic component
(cid:132) Semantic component
(cid:132) Generator
(cid:132) Planning agency
(cid:132) Understanding agency

ThoughtTreasure applications
(cid:132) Commonsense applications
(cid:132) Simple factual question answering
> What color are elephants? They are gray.
> What is the circumference of the earth?
40,003,236 meters.
> Who created Bugs Bunny?
Tex Avery created Bugs Bunny.
(cid:132) Story understanding

The hard problem:
Story understanding
Two robbers entered Gene Cook’s furniture 
store in Brooklyn and forced him to give 
them $1200.
Who was in the store initially?
And during the robbery?
Did Cook want to be robbed?
Did the robbers tell Cook their names?
Did Cook know he was going to be robbed?
Does he now know he was robbed?
What crimes were committed?

ThoughtTreasure approach
to story understanding

1. To build a computer that understands 
stories, build a computer that can 
construct simulations of the states and 
events described in the story.

20020217T194352
wwwwwwwwwwwwwwwwww
w              v
w      ttt
w     LtttJ
w      ttt
w

Actor Jim49
PAs

Sleep PA

ThoughtTreasure approach
to story understanding

2. Modularize the problem by having 
different agents work on different parts 
of the simulation.

Time
UA

Space
UA

20020217T194352
wwwwwwwwwwwwwwwwww
w              v
w      ttt
w     LtttJ
w      ttt
w

Jim49
Emotion
UA

Jim49
Sleep
UA

Actor Jim49
PAs

Sleep PA

Story understanding by 
simulation
(cid:132) Read a story
(cid:132) Maintain a simulation = model of story
(cid:132) Answer questions

The debate in psychology
(cid:132) People reason using mental models
Johnson-Laird, Philip N. (1993). Human and machine 
thinking.
(cid:132) People reason using inference rules
Rips, Lance J. (1994). The psychology of proof.

The debate in AI
(cid:132) AI programs should use lucid 
representations
Levesque, Hector (1986). Making believers out of 
computers.
(cid:132) AI programs should use indirect 
representations
Davis, Ernest (1991). (Against) Lucid representations.
(cid:132) AI programs should use diverse 
representations
Minsky, Marvin (1986). The society of mind.

Story understanding by 
simulation
(cid:132) A simulation is a sequence of states
(cid:132) A state is a snapshot of the mental 
world of each story character and the 
physical world

Physical world:
Grids and wormholes
20020217T194352
wwwwwwwwwwwwwwwwww
w              v
w      ttt
w     LtttJ
w      ttt
w                z

grid

wormhole

Physical world: Objects
20020217T194352
wwwwwwwwwwwwwwwwww
w              v
w      ttt
w     LtttJ
w      ttt
w

Object TVSet31
StateOff
Channel24

Mental world: Planning agents
20020217T194352
wwwwwwwwwwwwwwwwww
w              v
w      ttt
w     LtttJ
w      ttt
w

Actor Jim49
PAs
Emotions

Sleep

asleep

awake

Watch TV

Mental world: Emotions
20020217T194352
wwwwwwwwwwwwwwwwww
w              v
w      ttt
w     LtttJ
w      ttt
w

Actor Jim49
PAs
Emotions

happy 0.7
hopeful 0.6

Each input updates the simulation
5
v

Off

J

Jim turned on the TV.
6

5

On

v
J

v

Off

J

Why this approach?

(cid:132) Easy question answering by reading 
answers off the simulation
(cid:132) Convenient modularization by 
components of the simulation

Modularization

One understanding agent per simulation component
Space
Time
Actor – one per story character
Device – one per device
Goal
Emotion
Sleep
Watch TV
…

– one per story character

Understanding agents

(cid:132) Space UA – Jim walked to the table.
(cid:132) Emotion UA – Jim was happy.
(cid:132) Sleep UA – Jim was asleep.
(cid:132) TV device agent – The TV was on.

Detail on ThoughtTreasure 
representations
(cid:132) Planning agents
(cid:132) Grids and wormholes

PhoneCall planning agent
WAIT
dialtone

off-hook

dial

dialed

WAIT ring

ringing

WAIT hello

INITIAL

off-hook

dialtone

on-hook

WAIT 30 sec

retry

WAIT busy

WAIT 30 sec

FINAL

on-hook

done

say-bye

talking

say-hello

picked
up

talk

SubwayPlatform grid
==metro-RD-2d//|col-distance-of=5m|row-distance-of=10m|
level-of=-2u|orientation-of=north|GS=
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
w9                                        w
w                                         w
w  BBBBC  BBBB   BBBB   BBBB  CBBBB     uu3
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
.
u:stairs-up
w:wall
B:bench
G:&metro-Creteil-tracks
3:&metro-RD-Creteil-entrance1
9.wuG:&metro-RD-Creteil-platform

SubwayPlatform grid
==metro-RD-2d//|col-distance-of=5m|row-distance-of=10m|
level-of=-2u|orientation-of=north|GS=
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
w*****************************************w
w*****************************************w
w***************************************uu3
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
.
u:stairs-up
w:wall
B:bench
G:&metro-Creteil-tracks
3:&metro-RD-Creteil-entrance1
9.wuG:&metro-RD-Creteil-platform

SubwayPlatform grid
==metro-RD-2d//|col-distance-of=5m|row-distance-of=10m|
level-of=-2u|orientation-of=north|GS=
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
w
w
w
w
w  BBBBC  BBBB   BBBB   BBBB  CBBBB     uu3
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
.
u:stairs-up
w:wall
B:bench
G:&metro-Creteil-tracks
3:&metro-RD-Creteil-entrance1
9.wuG:&metro-RD-Creteil-platform

wormhole

SubwayTicketArea grid
wwwwwwwwwwwwwwwwwwwwwwwwwwwww
ddT
uuu
w         wwwwwwww          w
w         w     Xw          w
w        BfA     w          w
w         wwwwwwww          w
w                           w
wwwTwwwwwwwwwwwwwwwwwwwwwwwww
d
3
.d:stairs-down
u:stairs-up
w:wall
A:employee-side-of-counter
B:customer-side-of-counter
T:automated-turnstile
X.wf:&metro-RD-ticket-booth
3:&metro-RD-Creteil-entrance1

wormhole

Inferences from grids
(cid:132) Distance between objects
(cid:132) Relative position of objects (left, right, front, 
back)
(cid:132) Whether two actors can see or hear each 
other
(cid:132) Whether there is a path from one location to 
another

ThoughtTreasure architecture
Syntactic component
Text agency

Input
text

nodes

syntactic parser

parse
trees

Semantic component

generator

semantic parser

“He falls asleep...”

filters

base rules

anaphoric parser

Output
text
“Yes, ...”

discourse
NOW 20020312T102344
SPEAKER Tom62
LISTENER TT
LANGUAGE English
CONTEXTS

context
SENSE 0.9
STORY TIME 20020217T115849
REPRESENTATIONS
wwwwwwwww
Actor Jim49
w     J 
PAs
wwwwwwwww
EMOTIONS

Understanding agency

assertions [...]

understanding agent

understanding agent

sleep und. agent

Planning agency

planning agent
OBJ [...]

planning agent
OBJ [sleep Jim49]
STATE asleep

Simple stories handled by 
ThoughtTreasure
(cid:132) Two children, Bertie and Lin, in their 
playroom and bedrooms
(cid:132) Jenny in her grocery store
(cid:132) Jim waking up and taking a shower in 
his apartment

Story understanding by simulation
> Lin walks to her playroom.
Ts = 20020217T115849
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
w               w            BBBBw
w               w            BBBBw
w Lin :-) awake                  w
w               wwwwwwwwwwwwwwwwww
w                                w
w               w   LLLL         w
w               w   LLLL         w
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww

Story understanding by simulation
> She is where?
She was in the playroom of the 
apartment.

Story understanding by simulation
> She walks to her bedroom.
Ts = 20020217T115902
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
w               w            BBBBw
w               w            BBBBw
w    ..
w
wwwwwwwwwwwwwwwwww
w   
...  
w          ........Lin :-) awake w
w               w   LLLL         w
w               w   LLLL         w
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww

Story understanding by simulation
> She is where?
She was in her bedroom.
> She is near her bed?
Yes, she is in fact near the 
bed.

Story understanding by simulation
> She falls asleep.
Ts = 20020217T120034
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
w               w            BBBBw
w               w            BBBBw
w   
w
wwwwwwwwwwwwwwwwww
w   
w                   .            w
w               w   .LLL         w
w               w Lin :-) asleep w
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww

Story understanding by simulation
> She is asleep?
Yes, she was in fact asleep.
> She is awake?
No, she is not awake.
> She was in the playroom 
when?
She was in the playroom of 
the apartment two minutes 
ago.

Scaling up ThoughtTreasure
(cid:132) Add more grids, planning agents, 
understanding agents
(cid:132) Use automated and semi-automated 
techniques for acquisition
(cid:132) Use Open Mind for acquisition

Applications of common sense
(cid:132) SensiCal
(cid:132) NewsForms

SensiCal
(cid:132) Smart calendar application
(cid:132) Speeds entry by filling in information
(cid:132) Points out obvious blunders

SensiCal

Operation of SensiCal

new or modified calendar item

extract information

commonsense reasoning

fill in missing information
point out potential problems

Information extracted

(cid:132) Type of item
(cid:132) Participants
- role
- name
(cid:132) Location
- venue name and type
- earth coordinates

Information extracted
Text: lunch w/lin at frank's steakhouse
StartTs: 20020528T120000 
EndTs:   20020528T130000

ItemType:       meal
MealType:       lunch
Participant:    Lin
Venue:          Frank's Steakhouse
VenueType:      steakhouse

Common sense of calendaring
(cid:132) People grocery shop in grocery stores
(cid:132) Vegetables are found in grocery stores
(cid:132) A person can’t be in two places at once
(cid:132) Allow sufficient time to travel from one location to another
(cid:132) People typically work during the day and sleep at night
(cid:132) People do not usually attend business meetings on holidays
Lunch is eaten around noon for an hour
(cid:132)
(cid:132) Don’t eat at restaurants that serve mostly food you avoid
(cid:132) Vegetarians avoid meat
(cid:132) A steak house serves beef
(cid:132) Beef is meat
(cid:132) You can’t visit a place that’s not open
(cid:132) Restaurants do not generally serve dinner after 11 pm
(cid:132) Museums are often closed on Mondays
(cid:132) …

Representation of common 
sense in ThoughtTreasure
(cid:132) Assertions
(cid:132) Scripts
(cid:132) Grids
(cid:132) Procedures
- Trip planning agent
- Path planner

Assertions

[performed-in eat-dinner restaurant]
[serve-meal steakhouse beef] 
[avoid vegetarian meat]

Scripts

(cid:132) Roles
[role-of visit-museum museum-goer]
[role-of wedding-ceremony bride]
(cid:132) Sequence of events
[event01-of go-blading
[put-on blader rollerblades]]
[event02-of go-blading
[blade blader]]
(cid:132) Time and duration
[min-value-of eat-lunch 11am]
[max-value-of eat-lunch 2pm]
[duration-of eat-lunch 1hrs]

Scripts

(cid:132) Cost
[cost-of take-subway $1]
(cid:132) Entry conditions
[entry-condition-of sleep
[sleepy sleeper]]
(cid:132) Goals
[goal-of telephone-call
[talk calling-party called-party]]

Grids
VVVVVSSSwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
VVVVVSS2q                                              fnffw
fxffw
VVVVVSSSq
ffffmffff
ttt
VVVVVSSSw
ffffw
ffffw
sssssssssssssssssssssssssssss
VVVVVSSSw
tttB
VVVVVSSSw cArtt
sssssssssssssssssssssssssssss
fuffw
VVVVVSSSw
ttt
z        y                  ffffw
VVVVVSSSw1                                             fpffw
VVVVVSSSw
ffffw
VVVVVSSSwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
.
B:customer-side-of-counter
A:employee-side-of-counter
c:side-chair
f:store-refrigerator
m:Sprite
n:carrot
n:tomato
n:greenhouse-lettuce
n:onion
…

Trip planning agent
1. walk to subway stop in street grid 
(00:10)
2. take subway on subway grid (00:20)
3. board plane in airport grid (01:00)
4. fly along Atlantic Ocean in earth grid
(07:00)
Total (08:30)

Path planner
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&                                                               wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww&
&                                                     wwwwwwwwwww  tttwsss   ht     Aswcccccccccw&
&                                   wwwwwwwwwwwwwwwwwww         w  tttwmss            wcccccccccw&
&wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwccccccccw        w         w   smwmss            wcc       w&
&w  llllllll ss   g Ecccc  ssssssssswccccccccw        w         w   smwmss            wcv       w&
&wa llllllll ss       s    ssssssssswccccccccw        wwww   wwwww   wwmss            wcc       w&
wwwww    wwwwwwwwww    wwww&
&wA  Ec                           sswccccccccw                  
&w   cc                           sswccccccccw                  
w&
&wr                               sswwwwwwwwww                  
w&
&wr                                 w       ****************************************            w&
&wr                             ************  wwwwwwwwwwwwwwwwwwwwwwwwwttttttttttttl*          lw&
&w                   ***********               ssw              
wttttttttttttt*          tw&
&w       ************                          ssw              
wttttttttttttt*           w&
wA    s      *   EEEEEEEEEw&
&w ******                           w          ssw              
&w                                  w          Rsw              
w           *    EEEEEEEEEw&
&w             s                    w           sw              
wls        *     EEEEEEEEEw&
&w         ttttttttt                wwwwww    wwww              
w s       *      EEEEEEEEEw&
w s       *      EEEEEEEEEw&
&wr       sttttttttts      ss     ssw            w              
&wr        ttttttttt       ss     ssw                           
w         *      EEEEEEEEEw&
&wr            s           ss      Aw                           
w         *      EEEEEEEEEw&
&w    s                    ss       w                           
w   E     *      EEEEEEEEEw&
&w  tttt      sssssssssss  ss     rrw                           
w     ttttttEt   EEEEEEEEEw&
&w A          sssssssssss  ss     rrw            w              
w    rrrrr        rrrrr  Aw&
&wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww    wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&

SensiCal status
(cid:132) Prototype implemented in Tcl and Perl
as extension to ical
(cid:132) Communicates with ThoughtTreasure 
using ThoughtTreasure server protocol

SensiCal future work

(cid:132) Add more commonsense knowledge 
and reasoning
(cid:132) Hook up to Open Mind

NewsForms
(cid:132) NewsForms are XML representations of 
news events
(cid:132) NewsForms enable numerous 
commonsense applications

NewsForms for 17 types of 
events
(cid:132) competitions
(cid:132) deals
(cid:132) earnings reports
(cid:132) economic releases
(cid:132) Fed watching
(cid:132) IPOs
(cid:132) injuries and fatalities
(cid:132) joint ventures
(cid:132) legal events

NewsForms for 17 types of 
events
(cid:132) medical findings
(cid:132) negotiations
(cid:132) new products
(cid:132) management successions
(cid:132) trips and visits
(cid:132) votes
(cid:132) war
(cid:132) weather reports

NewsForm defines

(cid:132) Elements for news event types
Deal, InjuryFatality
(cid:132) Child elements
Targetof Deal
Causeof InjuryFatality
(cid:132) Standard values (#PCDATA)
Earthquake, Fire

NewsForm DTD
<?xml version="1.0" encoding="UTF-8"?>
<!– NewsForm document type definition -->
<!ELEMENT Deal (Acquirer|Advisor|DealStatus|
DealValue|SharePrice|Stake|StockRatio|
Successor|Survivor|Target)*>
<!--Rumored/InTalks/Agreed/Approved/
Completed/Failed -->
<!ELEMENT DealStatus %STRING>
<!ELEMENT InjuryFatality (AccidentCar|
AccidentPlane|AtLocation|Boat|Cause|
CauseEvent|Hospitalized|Injured|
InjuredCount|Killed|KilledCount|
LandedPlane|Source|SurvivedBy)*>

…

Sample NewsForm
<NewsForm>
<Head>
<DatelineTime>19990125T181917Z</DatelineTime>
</Head>
<InjuryFatality>
<Cause>Earthquake</Cause>
<InjuredCount>900</InjuredCount>
<KilledCount>143</KilledCount>
<Source><Function>CivilDefenseOfficial
</Function></Source>
<AtLocation>
<Country>COL</Country>
<Latitude>4.29</Latitude>
<Longitude>-75.68</Longitude>
</AtLocation>
</InjuryFatality>
</NewsForm>

NewsForm applications
(cid:132) E-commerce
(cid:132) Portable devices
(cid:132) Desktop applications

Travel site informs user of earthquake

New York Kennedy (JFK) to Seattle/Tacoma, WA (SEA)
Price: 1 adult @ USD 269.50
Flight: Jetblue Airways flight 83 on an Airbus Industrie Jet
Departs: Thursday, March 01
From: New York Kennedy (JFK) at 9:00pm
To: Seattle/Tacoma, WA (SEA) at 11:59pm
_____________________________
Strong Earthquake Rocks Seattle
(02/28/01, 3:47 p.m. ET) By Chris Stetkiewicz and Scott Hillis , Reuters
SEATTLE—An earthquake measuring 7.0 rattled Seattle Wednesday, swaying buildings and 
forcing the evacuation of thousands from their offices, schools, homes, and hospitals, witnesses 
said.

Agent redirects order to bankrupt partner

automated
agent

BUY Mobile Search

PinPoint

____________________________
Thursday April 12, 12:57 pm Eastern Time
iTech Capital Notes PinPoint Has Ceased Operations
VANCOUVER, BRITISH COLUMBIA--PinPoint Corporation, a developer of local positioning 
system technologies, has notified all of its shareholders that it has been unsuccessful in its 
attempt to raise additional capital required to continue operations. As such, PinPoint has ceased 
operations and has filed for protection under the bankruptcy laws.

Cell phone informs fan of nearby star


STAR TRACKS 
'DEATH' IN NEW YORK: Leading men ANTHONY HOPKINS and BRAD PITT are now in town 
shooting "Meet Joe Black," a remake of the after-life fantasy "Death Takes a Holiday." Pitt's stunt 
double gets hit by a car ... so the story can begin. 

Calendar program informs user of subway 
outage

Mon

Tue
Meeting at
MFA

Wed

Thu

Fri

E

______________________________
TRAVELING ON THE T > TRANSIT UPDATE
Green Line:
Green Line service on the E train is temporarily suspended this morning due to signal work.

NewsForms status
(cid:132) NewsForm DTD specified
(cid:132) NewsExtract text-to-NewsForm 
converter implemented
(cid:132) NewsExtract search engine 
implemented

NewsExtractalpha2
Search for news stories
a

Search

Type
Any

Date range
Last 30 days

Map
US

Sort by
Date

About NewsExtract

Questions or comments? webmaster@signiform.com
Copyright © 2000 Signiform. All Rights Reserved. Terms of use.

NewsExtractalpha2
614 matches for a (last 30 days)
word count: a:614
Last updated July 14, 2000 04:01:44 EDT
X•••••••••••••••••••••••• • ••••• •                              
••••     •••             •       •• ••••••••                    
G ••            •        •     ••••••                     •••
•••X
••  •••••• ••           •• •••••••    •••••••••••              
•  •
•X•••   •• ••• ••••••••••        •   G•     ••••••        X••X••••  •
•       •    ••••       •        •    •••  •X•• •••   X
•• ••••••••
••               •       •••• •••••••••••••X•X••   •   •X•••  •••X•   
••••••••••  ••••••       •        ••     ••  X•••XX•X••••••X•••••X•   
••   X•      • B •••••• X•••       •••••••   •  •    •X
XXX•• •   
••••••••X•X
•    •      •     •   XX
B••  • X•B X•••••XX•X•        
•XXX •••    •     •    X
•        •    •••••XX•X••• ••••X••         
X•   ••   ••••••••••••••••••••••••••••••••••••••••••••••B•         
•••     X••     •      •   •  X G •    ••  X
•X••X
•••         
••     •      •   •••••••• G ••••••••X•• ••••X••          
•••XX
•      •     •X••••••••  •   •X •••••••            
•X• •  X
•  ••••••••••X••••      X
•• ••  •  X•   •••               
••        X X •• ••••••••••••X•                
••••••    ••X•••••••    •••• •                
••• •••               X X•               
•••                 •••X
The facts on this page are automatically parsed out of the story text and may be incorrect.
20000714
Gene Discovery in Mice May Lead to New Arthritis Treatments 
(washingtonpost.com)

WashingtonPost NewsForm
MedicalFinding Illness: Arthritis

InternetNews - Streaming Media News -- AOL, RealNetworks Team for Streaming
InternetNews.com NewsForm
JointVenture JointVentureType: Agreement

Convolve, MIT Sue Compaq, Seagate For $800 Million
TechWeb NewsForm
LegalEvent Forum: U S Industries Inc [USI.N] LegalAction: File LegalFiling: Suit

NewsForms future work
(cid:132) Improve precision/recall of NewsExtract
(cid:132) Launch distributed human project for 
realtime NewsForm creation and 
correction
(cid:132) Build commonsense applications that 
use NewsForms

ThoughtTreasure, the hard 
common sense problem, and 
applications of common sense

Erik T. Mueller
IBM Research*
*Work performed while at Signiform

Extra slides

ThoughtTreasure vs. Cyc
(cid:132) ThoughtTreasure inspired by Cyc
(cid:132) Cyc mostly uses single representation (logic); 
ThoughtTreasure uses multiple representations 
(logic, finite automata, grids)
(cid:132) Recovery of script information from Cyc is difficult:
(=> (and (subEvents ?X ?U) (isa ?U Staining))
(isa ?X WoodRefinishing))
(=> (and (isa ?U ShapingSomething) (subEvents ?U ?X))
(isa ?X CuttingSomething))
ThoughtTreasure scripts are easy to use:
[event-of refinish-wood [stain human wood]]
[event-of shape [cut human physical-object]] 

ThoughtTreasure vs. OpenCyc

Analysis of nonlinguistic assertions
http://www.signiform.com/tt/htm/opencyctt.htm
OpenCyc 0.6.0
62%
33%
0%
0%
0%
0%
5%
60,878

Hierarchical
Typing
Spatial
Script
Part
Property
Other
Assertions

ThoughtTreasure 0.00022
56%
2%
4%
4%
2%
1%
31%
51,305

ThoughtTreasure vs. WordNet

(cid:132) WordNet is lexical, not conceptual; world 
knowledge, scripts, object properties 
excluded
(cid:132) WordNet has separate databases for 
nouns, verbs, adjectives, adverbs; no 
prepositions; few relations between 
databases; agreementnot connected to 
agree
(cid:132) WordNet lacks top-level ontology

ThoughtTreasure vs. WordNet

(cid:132) WordNet is monolingual (But see 
EuroWordNet)
(cid:132) WordNet weak on argument structure
let go of, let go, release 
*> Somebody ----s something
*> Somebody ----s somebody 
(cid:132) WordNet has no parser, generator, 
understanding agents

Scripts in ThoughtTreasure
(cid:132) Scripts proposed in 1970s by Schank & 
Abelson, Minsky, Wilks
(cid:132) Few attempts to build database of 
scripts
(cid:132) 100 scripts in ThoughtTreasure

Scripts in ThoughtTreasure:
Representation based on Schank & 
Abelson, 1977
(cid:132) Sequence of events
(cid:132) Roles, props
(cid:132) Places
(cid:132) Entry conditions, goals, results
(cid:132) Emotions
(cid:132) Duration, frequency, cost

ThoughtTreasure object: call 
[English] telephone call, call, make a telephone call, make a phone 
call, make a call, give a ring to, give a call to,
telephone, ring up, ring, call up, call, phone up, phone; [French] 
appeler, téléphoner à 
[ako ^ interpersonal-script] 
[cost-of ^ NUMBER:USD:1] 
[duration-of ^ NUMBER:second:600] 
[event01-of ^ [pick-up calling-party phone-handset]] 
[event02-of ^ [dial calling-party phone-number]] 
[event03-of ^ [interjection-of-greeting called-party calling-party]] 
[event04-of ^ [interjection-of-greeting calling-party called-party]] 
[event05-of ^ [converse calling-party called-party]] 
[event06-of ^ [interjection-of-departure calling-party called-party]] 
[event07-of ^ [interjection-of-departure called-party calling-party]] 
[event08-of ^ [hang-up calling-party phone-handset]] 
[goal-of ^ [near-audible calling-party called-party]] 
[performed-in ^ room] 
[period-of ^ NUMBER:second:7200] 
[r1 ^ human] 
[r2 ^ human] 
[related-concept-of ^ phonestate] 
[role01-of ^ calling-party] 
[role02-of ^ called-party] 
[role02-script-of ^ handle-call] 
[role02-script-of handle-call ^] 
[role03-of ^ phone] 
[role04-of ^ phone-handset] 
[role05-of ^ phone-number]

ThoughtTreasure object: mail-letter-at-post-office 
[ako ^ mail-letter] 
[cost-of ^ NUMBER:USD:0.33] 
[duration-of ^ NUMBER:second:600] 
[event01-of ^ [pick-up sender snail-mail-letter]] 
[event02-of ^ [ptrans sender na post-office]] 
[event03-of ^ [wait-in-line sender]] 
[event04-of ^ [ptrans-walk sender na postal-counter]] 
[event05-of ^ [pre-sequence postal-clerk sender]] 
[event05-of ^ [pre-sequence sender postal-clerk]] 
[event06-of ^ [hand-to sender postal-clerk snail-mail-letter]] 
[event07-of ^ [weigh postal-clerk snail-mail-letter]] 
[event08-of ^ [postmark postal-clerk snail-mail-letter]] 
[event09-of ^ [post-sequence postal-clerk sender]] 
[event09-of ^ [post-sequence sender postal-clerk]] 
[event10-of ^ [ptrans sender post-office na]] 
[goal-of ^ [owner-of snail-mail-letter recipient]] 
[goal-of ^ [s-employment postal-clerk]] 
[performed-in ^ post-office] 
[period-of ^ NUMBER:second:604800] 
[role01-of ^ sender] 
[role02-of ^ recipient] 
[role03-of ^ snail-mail-letter] 
[role04-of ^ post-office] 
[role05-of ^ postal-counter] 
[role06-of ^ postal-clerk]

ThoughtTreasure object: have-filling-done 
[English] have a filling, have a filling done; [French] se faire faire un plombage
[ako ^ dentist-appointment] 
[cost-of ^ NUMBER:USD:200] 
[duration-of ^ NUMBER:second:3600] 
[emotion-of ^ [nervousness role-patient]] 
[emotion-of ^ [pain role-patient]] 
[event01-of ^ [ptrans role-patient na dental-office]] 
[event02-of ^ [ptrans-walk role-patient na waiting-room]] 
[event03-of ^ [wait role-patient]] 
[event04-of ^ [action-call dental-assistant na role-patient]] 
[event05-of ^ [ptrans-walk role-patient waiting-room dental-operatory]] 
[event06-of ^ [sit-in role-patient dental-chair]] 
[event07-of ^ [inject dentist novocaine mouth]] 
[event08-of ^ [wait role-patient]] 
[event09-of ^ [drill-tooth dentist tooth dental-drill]] 
[event09-of ^ [listen role-patient elevator-music]] 
[event10-of ^ [fill-tooth dentist tooth dental-filling]] 
[event11-of ^ [ptrans role-patient dental-operatory na]] 
[goal-of ^ [p-health role-patient]] 
[goal-of ^ [s-profit dentist]] 
[performed-in ^ dental-office] 
[period-of ^ NUMBER:second:1.5768e+08] 
[r1 ^ human] 
[role01-of ^ role-patient] 
[role02-of ^ dentist] 
[role03-of ^ dental-assistant] 
[role04-of ^ tooth] 
[role05-of ^ mouth] 
[role06-of ^ dental-office] 
[role07-of ^ waiting-room] 
[role08-of ^ dental-chair] 
[role09-of ^ dental-operatory] 
[role10-of ^ dental-filling] 
[role11-of ^ novocaine]

Scripts in ThoughtTreasure:
Comparison to related work

(cid:132) Cyc: 185 events with ≥1 subevent (avg 1.7) 
(cid:132) FrameNet: 20 frames (0 subevents)
(cid:132) Andrew Gordon’s EPs: 768 EPs (avg 3.2 subevents)
(cid:132) ThoughtTreasure: 100 scripts (avg 8.4 subevents)
(cid:132) WordNet: no scripts but 427 synsets with outgoing 
entailment links (avg 1.06 subevents)

Grids in ThoughtTreasure
restaurant, bar, grocery-store, theater-
ground-floor, theater-hall, TV-studio, city-
apartment1, small-apartment-building-floor, 
small-apartment-building-ground-floor, city-
apartment2, large-apartment-building-ground-
floor, country-house-ground-floor, hotel-
ground-floor, hotel-room-and-floor, city-
street1, city-street2, city-street-and-park, 
country-area, subway-ticket-area, subway-
platform1, subway-platform2, subway-platform3, 
subway-tracks, airport1, airport2, highway-
map1, highway-map2, highway-map3

TVStudio grid
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
A
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
E
E
O
E
E
E
E
E
E
E
E
E
E
E
E
E
E
E
E
E
E
p
p
p
p
p
p
p
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
 
 
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
4
w
 
 
n
 
 
n
 
 
n
 
 
 
 
 
 
 
 
1
w
 
n
 
n
 
 
 
 
 
 
 
 
 
 
 
w
w
 
 
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
H
H
H
 
 
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
n
 
 
 
 
 
 
 
 
 
 
 
 
 
n
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
w
w
w
 
 
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
w
 
 
w
 
w
p
p
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
w
w
w
w
w
w
w
w
w
w
 
 
p
p
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
n
 
 
 
 
 
 
 
 
 
 
 
 
 
n
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
M
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
t
 
t
w
p
p
w
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
w
 
w
 
t
 
t
w
 
 
t
 
c
 
 
2
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
R
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
t
 
w
 
t
 
t
w
 
 
t
 
 
 
W
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
R
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
t
 
w
 
 
t
 
I
I
W
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
D
 
 
 
 
 
 
 
n
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
t
M
 
c
w
 
 
t
 
I
I
W
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
R
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
t
 
 
 
w
t
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
T
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
W
 
 
 
 
w
t
 
 
 
 
w
t
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
p
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
W
 
 
 
 
 
w
 
t
 
 
 
w
 
 
 
w
 
 
W
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
p
 
 
 
 
 
 
 
T
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
p
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
w
w
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
p
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
w
w
 
w
p
p
p
p
w
w
w
 
 
w
X
H
H
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
S
S
S
9
M
 
 
S
S
S
S
 
 
S
w
 
 
S
 
 
 
 
 
 
 
w
 
 
w
 
 
 
w
w
S
S
w
w
w
w
w
w
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
S
 
C
8
 
M
 
8
 
J
S
 
 
S
w
 
M
 
 
 
 
 
 
 
w
w
w
w
w
 
 
 
 
w
w
w
 
 
w
 
O
w
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
n
 
 
S
t
t
 
 
 
 
 
 
 
 
S
 
 
S
w
 
 
 
 
 
 
 
 
 
w
 
 
w
 
 
 
w
 
 
 
w
 
w
w
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
S
t
t
 
 
 
 
 
t
 
 
S
 
 
S
w
F
 
 
 
 
 
 
 
 
p
 
w
p
p
p
w
 
C
 
F
 
w
 
 
p
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
S
t
t
 
 
 
 
 
t
C
 
S
 
 
S
w
P
C
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
P
 
w
 
 
p
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
S
t
 
 
 
 
 
t
 
 
f
 
 
S
w
 
 
t
 
 
 
 
 
 
 
 
 
 
 
 
 
C
 
 
 
w
 
 
p
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
S
S
 
 
 
 
 
t
C
 
f
 
C
S
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
w
 
 
p
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
K
 
 
 
 
t
 
t
 
 
f
 
 
S
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
t
t
t
 
 
t
C
 
f
 
 
S
w
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
S
 
w
S
 
 
f
 
 
t
 
 
L
t
L
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
w
 
 
 
 
 
 
 
 
C
S
C
w
w
w
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
n
 
t
B
 
t
t
t
 
 
t
C
 
f
 
C
S
w
 
 
 
 
 
 
 
w
w
w
w
w
w
w
C
w
w
w
w
w
w
w
w
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
t
 
 
t
t
t
 
 
t
 
 
f
 
 
S
w
t
 
 
 
 
 
 
 
w
 
 
 
 
 
t
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
t
B
L
t
L
 
 
t
C
 
f
 
 
S
w
 
t
 
 
 
 
 
 
 
w
 
 
 
 
 
t
 
 
 
 
 
 
 
 
 
 
C
S
C
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
t
 
M
M
t
 
 
t
 
 
f
 
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
Z
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
t
B
t
t
L
 
 
t
C
 
f
 
C
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
M
 
 
 
 
 
 
 
 
 
 
 
S
C
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
t
 
L
t
t
 
 
t
 
 
f
 
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
C
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
t
L
L
L
 
 
t
C
 
f
 
 
S
w
 
B
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
C
 
 
t
 
 
f
 
 
S
w
C
C
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
n
 
 
 
 
t
C
 
f
 
C
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
t
 
 
f
 
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
T
 
 
 
f
 
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
f
 
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
S
 
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
T
 
 
 
 
 
 
S
 
 
w
S
 
 
S
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
S
 
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
S
 
 
S
w
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
n
 
t
 
 
 
 
S
 
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
8
 
 
 
H
H
H
t
 
t
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
S
S
 
 
S
 
 
S
w
C
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
S
 
 
 
S
S
S
C
 
C
 
 
 
 
 
S
S
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
S
 
 
S
w
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
S
 
 
8
 
 
 
 
 
 
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
S
 
 
 
 
S
 
 
S
w
S
 
 
 
 
 
 
w
 
 
S
 
 
 
 
 
 
 
 
 
S
 
 
S
S
 
S
 
 
S
 
S
S
S
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
S
S
S
 
S
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
S
 
 
 
 
 
 
 
 
 
 
 
 
 
S
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
 
 
 
n
 
 
n
 
w
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
n
 
 
n
n
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
w
w
w
w
w
w
w
w
w
w
w
 
 
 
 
 
 
w
 
 
w
 
w
 
 
 
 
w
 
 
 
w
p
w
w
w
 
w
 
 
w
w
w
w
w
p
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
u
u
u
 
w
 
V
 
u
u
u
w
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
w
 
 
 
w
 
 
 
 
 
 
 
 
 
 
u
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
u
u
u
 
w
 
V
 
u
u
u
w
 
 
 
 
 
 
 
w
 
 
 
 
 
 
 
 
 
w
 
 
 
w
 
 
 
 
 
 
 
 
 
 
u
 
 
 
 
u
u
 
w
 
 
u
u
u
w
 
u
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
w
 
 
 
 
 
 
 
 
 
w
 
 
 
w
 
 
 
 
 
 
 
 
 
 
u
 
 
w
u
u
u
w
u
u
u
w
w
 
 
 
 
 
 
 
 
 
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
u
 
 
w
w
w
w
w
w
w
 
 
 
p
 
p
w
 
 
 
 
w
 
 
 
w
 
 
 
 
 
 
 
 
p
 
 
 
w
w
3
w
w
 
 
 
 
 
 
w
 
 
 
 
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
w
w
 
w
w
 
w
 
 
 
w
w
w
 
w
 
 
w
w
w
w
w
w
w
w
w
 
 
w
 
 
 
w
w
 
w
w
 
w
 
 
 
w
w
w
 
w
w
 
w
w
 
 
 
Y
Y
 
p
Y
 
 
 
Y
Y
Y
 
Y
Y
Y
w
 
 
 
 
 
6
w
 
Y
p
 
 
 
 
 
5
 
Y
 
 
w
 
w
w
 
 
 
 
p
M
K
M
 
 
 
M
9
 
M
M
M
w
 
 
 
 
 
 
w
 
p
 
 
 
 
 
 
 
w
 
w
w
 
 
 
 
p
 
 
 
 
 
w
 
 
 
 
 
 
p
 
p
 
 
 
 
 
 
 
w
k
w
w
 
 
 
 
w
 
 
 
t
t
t
t
 
w
t
t
t
 
t
v
 
 
 
 
 
p
 
w
 
t
 
 
 
 
 
 
t
w
w
w
w
 
 
 
 
w
 
 
 
t
Q
Q
t
 
w
U
t
t
 
t
w
 
w
 
 
 
 
p
 
w
 
U
 
 
 
 
 
 
t
w
w
v
w
 
 
 
 
p
 
 
 
t
Q
t
 
Q
w
U
t
t
 
t
 
 
 
 
 
 
p
 
w
 
U
 
 
 
 
 
 
t
w
w
w
 
 
 
 
p
 
 
 
w
c
c
w
 
c
 
w
 
 
 
 
 
w
w
w
w
 
c
 
 
 
 
 
c
w
w
w
w
 
 
 
 
p
 
 
 
 
w
 
 
 
 
 
 
 
 
w
 
w
w
 
 
 
 
 
 
 
w
w
w
 
 
 
 
w
 
 
 
 
w
 
 
 
 
 
 
 
 
w
 
w
w
 
 
 
 
 
 
 
w
w
w
 
 
7
 
w
 
 
k
 
 
w
 
 
 
 
 
 
 
 
w
7
w
w
 
 
 
 
 
 
 
w
w
w
 
 
w
w
 
 
 
 
w
w
w
 
 
w
 
w
p
 
 
w
w
 
w
w
w
w
w
w
p
p
w
w
 
w
w
w
w
p
p
p
w
w
w
w
w
w
w
w
w
w
w
w
w
 
w
w
w
w
w
w
w
w
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
w
 
 
 
 
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
w
w
 
0
 
w
 
 
 
3
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
p
p
p
p
w
p
p
 
w
w
 
 
 
 
 
 
 
 
 
w
w
w
w
w
w
f
w
w
w
f
w
w
w
w
f
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
w
 
 
 
t
w
 
 
w
w
w
w
w
w
w
w
w
w
w
f
w
w
w
w
w
w
w
w
w
f
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
 
 
c
t
w
 
 
 
w
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
w
p
p
 
t
w
p
p
 
w
w
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
N
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
s
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G

CountryArea grid
MMMMMMMMMMMMMMMMMMMMMMMMMMMM          rrr
MMMMMTMMMMMTMMMMMTMMMMMM        T       rrr
MMMMMTMMMMTMMMMMM    T         hhh
rrr
MMMMMMMMM            BBB   hhh
rrr
BBB           rrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrN
MMM                 F    T               rrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr
MMMMMMMM                 F             rrr
hhh
MMMMTMMMTMMM               F          rrr
hhh
MMMMTMMMMMTMMMMM            BBB      rrr
MMMMMMMMMMMMMMMMMMM         BBB      rrr
MMTMMMTMMMMMTMMMTMMM                rrr
MMMMMTMMMTMMMTMMMMM       BBBB      rrr
MMMTMMMTMMMTMMMTMM        BBBB       rrr
MMMMMMMMMMMMMMMMMM    T   BBBB       rrr
MMMMMMMTMMTMMM                        rrr
MMMMMMMMMMM                  HHH      rrr
MMMMTMMTMM   T               HHH     rrr
MMMMMMMMMM        F   BBB    L      rrr
MMTMMTMMM   T F       BBB         rrrr
MMMMMMMM           PPPP          rrrr
MMTMMTMM           CPPPDDDDDDDDDrrrrr
MMMMMMM            PPPPDDDDDDDDrrrrrrr
MMMM               PPPP       rrrr rrrr
M                           rrrr
rrrr
hhh
rrrrr
rrrrr
T      rrrrrr
hhh
rrrrr
rrrrrrrrrrrrrrrrrrrrrrrrr
T         T     rrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr
T             rrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr
rrrrrrrrrrrrrrrrrrrrrr
1       T      T          T        T        T        T
T              T         T           T         T            T
T
T      T       T        T      T         T  T        T
T     T
T      T     T      T    T    T     T     T    T  T    T      T
T     T
T      T     T    T    T   T   T   T    T  T  T  T    T   T T T   T T T  T
T    T    T   T    T   T    T   T    T  T    T  T     T    T
T    T    T

Inferences from grids
(cid:132) Distance between objects
(cid:132) Relative position of objects (left, right, front, 
back)
(cid:132) Whether two actors can see or hear each 
other
(cid:132) Whether there is a path from one location to 
another

Planning agents in 
ThoughtTreasure
(cid:132) GRASPER: Grasp, Release, Holding, Connect, ConnectedTo, Rub, Pour, 
SwitchX, FlipTo, KnobPosition, GestureHere, HandTo, ReceiveFrom
(cid:132) CONTAINER: ActionOpen, ActionClose, Open, Closed, Inside
(cid:132) MOVEMENT: MoveTo, MoveObject, SmallContainedObjectMove, 
HeldObjectMove, GrasperMove, ActorMove, LargeContainerMove
(cid:132) TRANSPORTATION: NearAudible, NearReachable, NearGraspable, 
GridWalk, Sitting, Standing, Lying, Sit, Stand, Lie, Warp, Drive, 
GridDriveCar, MotorVehicleOn, MotorVehicleOff, Stay, Pack, Unpack
(cid:132) COMMUNICATION: Mtrans, ObtainPermission, HandleProposal, 
Converse, Call, HandleCall, OffHook, OnHook, PickUp, HangUp, Dial
(cid:132) MONEY: PayInPerson, PayCash, PayByCard, PayByCheck, 
CollectPayment, CollectCash
INTERPERSONAL RELATIONS: MaintainFriends, Appointment
(cid:132)
(cid:132) ENTERTAINMENT: AttendPerformance, WorkBoxOffice, 
PurchaseTicket, WatchTV, TVSetOn, TVSetOff
(cid:132) PERSONAL: Sleep, Shower, Dress, PutOn, Wearing, Strip, TakeOff

Device agents in 
ThoughtTreasure

(cid:132) CAR: off, on, ignition
(cid:132) TV: off, on, channel, antenna, plug
(cid:132) TELEPHONE: hook, state, handset, dial, phone number, connection
(cid:132) SHOWER: off, on, faucet, shower head, washing hair, shampoo

Planning agents (PAs)
Finite automata augmented with the 
ability to perform arbitrary 
computations

1. Do A
2. If X   else
3. Wait for Y
4. Do B
5. If Z   else
6. Do C

PhoneCall planning agent
call(A1, A2) :-
1:   T = FINDO(phone),
H = FINDP(phone-handset, T),
off-hook(H),
WAIT FOR dialtone(T) AND GOTO 22
OR WAIT 30 seconds AND GOTO 777,
22:  RETRIEVE phone-number-of(CLD =
FINDO(phone NEAR A2), 
N = number);
dial(FINDP(right-hand, A1),
FINDP(phone-dial, T), N),
WAIT FOR busy-signal(T) AND GOTO 777
OR WAIT FOR audible-ring(T, CLD) AND GOTO 4,
OR WAIT 10 seconds AND GOTO 777
4:   WAIT FOR voice-connection(T, CLD) AND GOTO 5
OR WAIT 30 seconds AND GOTO 777

PhoneCall planning agent
5:   WAIT FOR interjection-of-greeting(A3 = human, ?)
AND GOTO 61
OR WAIT 30 seconds AND GOTO 777
61:  ASSERT near-audible(A1, A3); IF A3 != A2 GOTO 990;
calling-party-telephone-greeting(A1, A2),
62:  WAIT FOR mtrans(A1, A2) AND GOTO 7
OR WAIT 5 seconds AND GOTO 990,
7:   WAIT FOR mtrans(A2, A1) AND GOTO 990
OR WAIT 5 seconds AND GOTO 990,
777: on-hook(H) ON SUCCESS GOTO 1,
990: interjection-of-departure(A1, A3),
WAIT FOR interjection-of-departure(A3, A1)
OR WAIT 5 seconds,
RETRACT near-audible(A1, A3);
on-hook(H).

PhoneCall device agent
H = FINDP(phone-handset, T)
IF condition(T, W) and W < 0 { /* T broken */
ASSERT idle(T)
} ELSE IF idle(T) {
IF off-hook(H) ASSERT dialtone(T)
} ELSE IF dialtone(T) {
IF on-hook(H) ASSERT idle(T) ...  
} ELSE IF ringing(T, CLG = phone) {
IF off-hook(H) {
ASSERT voice-connection(CLG, T)
ASSERT voice-connection(T, CLG)

}
...

PurchaseTicket planning agent
purchase-ticket(A, P) :-
dress(A, purchase-ticket),
RETRIEVE building-of(P, BLDG);
near-reachable(A, BLDG),
near-reachable(A, FINDO(box-office)),
near-reachable(A, FINDO(customer-side-of-counter)),
2:  interjection-of-greeting(A, B =
FINDO(human NEAR employee-side-of-counter)),
WAIT FOR may-I-help-you(B, A)
OR WAIT 10 seconds AND GOTO 2,
5:  request(A, B, P),
6:  WAIT FOR I-am-sorry(B) AND GOTO 13
OR WAIT FOR describe(B, A, TKT = ticket) AND GOTO 8
OR WAIT 20 seconds AND GOTO 5,
8:  WAIT FOR propose-transaction(B, A, TKT, PRC = currency),
IF TKT and PRC are OK accept(A, B) AND GOTO 10
ELSE decline(A, B) AND GOTO 6,
10: pay-in-person(A, B, PRC),
receive-from(A, B, TKT) ON FAILURE GOTO 13,
ASSERT owner-of(TKT, A),
post-sequence(A, B),
SUCCESS,
13: post-sequence(A, B),
FAILURE.

WorkBoxOffice planning agent
work-box-office(B, F) :-
dress(B, work-box-office),
near-reachable(B, F),
TKTBOX = FINDO(ticket-box);
near-reachable(B, FINDO(employee-side-of-counter)),
100: WAIT FOR attend(A = human, B) OR pre-sequence(A = human, B),
may-I-help-you(B, A),
103: WAIT FOR request(A, B, R) AND GOTO 104
OR WAIT FOR post-sequence(A, B) AND GOTO 110,
104: IF R ISA tod {
current-time-sentence(B, A) ON COMPLETION GOTO 103
} ELSE IF R ISA performance {
GOTO 105
} ELSE {
interjection-of-noncomprehension(B, A)
ON COMPLETION GOTO 103 }
105: find next available ticket TKT in TKTBOX for R;
IF none { I-am-sorry(B, A) ON COMPLETION GOTO 103
} ELSE { describe(B, A, TKT) ON COMPLETION GOTO 106 },
106: propose-transaction(B, A, TKT, TKT.price),
WAIT FOR accept(A, B) AND GOTO 108
OR WAIT FOR decline(A, B) AND GOTO 105
OR WAIT 10 seconds AND GOTO 105,
108: collect-payment(B, A, TKT.price, FINDO(cash-register)),
109: hand-to(B, A, TKT),
110: post-sequence(B, A) ON COMPLETION GOTO 100.

Natural language processing:
the basics

(cid:132) Text agency: word, phrase, name, time and date 
expression, phone number, media object, product, price, end of 
sentence, communicon, email header, attribution, table
(cid:132) Lexicon: part of speech, language, dialect, argument 
structure, selectional restriction, subcategorization restriction, 
inflection, prefix, suffix, derivational rule
(cid:132) Syntactic component: syntactic parser, constituent, 
noun phrase, verb phrase, sentence, base rule, filter, barrier, 
transformation, compound tense, relative clause

Natural language processing:
the basics

(cid:132) Semantic component: semantic parser, case frame, 
semantic Cartesian product, theta marking, argument, adjunct, 
copula, relative clause, appositive, genitive, nominalization, 
conjunction, tense, aspect, anaphoric parser, antecedent, salience, 
feature unification, article, intension, extension, c-command, deixis, 
speaker, listener, story time, now
(cid:132) Generator: English, French, indicative, subjunctive, 
generation advice, unit of measure, value range names
(cid:132) Question answering: Yes-No question, question-word 
question, location, time, temporal relation, degree, quantity, 
description, means, reason, explanation, clarification, narrowing 
down

A lexical entry definition
=pour-on//pour* on+.Véz/
|r1=human|r2=physical-object|
r3=physical-object|
+ = takes indirect object
V = verb
é = takes direct object
z = English

ú = subject assigned to slot 2
ü = subject assigned to slot 3
è = object assigned to slot 1
é = object assigned to slot 2
ë = object assigned to slot 3
÷ = indicative (that) he goes
O = subjunctive (that) he go
Ï = infinitive (for him) to go
± = present participle (him) going
...

Semantic parsing
The American who daydreams, ate.
[preterit-indicative
[ingest
[such-that
[definite-article human]
[present-indicative
[daydream human na]]
[nationality-of human US]]
food]]

Semantic parsing
I want to buy a Fiat Spyder.
[present-indicative
[active-goal
subject-pronoun
[buy subject-pronoun na
Fiat-Spider na]]]
[present-indicative
[active-goal
Jim
[buy Jim na Fiat-Spider na]]]

Semantic parsing
How are you?
[how-are-you Jim TT]

What is your address?
[present-indicative
[email-address-of TT
object-interrogative-pronoun]]

Anaphoric parsing
(cid:132) Resolves I, youbased on speaker, listener
(cid:132) Resolves him, her, theybased on previously 
mentioned actors
(cid:132) Resolves the Xbased on objects of type X
previously mentioned or spatially near 
previously mentioned actors
(cid:132) Resolves the red X or the X that is redbased 
on red X’s

He poured Pert Plus on his hair.
[preterit-indicative
[pour
[such-that
grasper
[of grasper subject-pronoun]]
Pert-Plus
[possessive-determiner hair]]]
[preterit-indicative
[pour Jim-left-hand Pert-Plus Jim-head-hair]]

Implementation of a UA
void UA_Emotion_FortunesOfOthers(Actor *ac, Ts *ts, Obj *a, Obj *in,
Obj *other, Float weight,
Obj *other_emot_class)

int
found;
Float         weight1;
Obj
*other_emot_class1;
ObjList
*causes, *objs, *atts, *p, *q;
/* Relate <a's emotion to <a's attitudes. */
if (0.0 != (weight1 = UA_FriendAttitude(ts, a, other, 1, &atts))) {
if (FloatSign(weight1) == FloatSign(weight)) {
/* The input emotion agrees with known attitudes. */
ContextSetRSN(ac-cx, RELEVANCE_TOTAL, SENSE_TOTAL, NOVELTY_HALF);
ContextAddMakeSenseReasons(ac-cx, atts);
} else {
/* The input emotion disagrees with known attitudes. */
ContextSetRSN(ac-cx, RELEVANCE_TOTAL, SENSE_LITTLE, NOVELTY_TOTAL);
ContextAddNotMakeSenseReasons(ac-cx, atts);
}
} else {
/* Attitude of <a toward <other is unknown. */
ContextSetRSN(ac-cx, RELEVANCE_TOTAL, SENSE_MOSTLY, NOVELTY_MOSTLY);
UA_Infer(ac-cx-dc, ac-cx, ts,
L(N("like-human"), a, other, NumberToObj(weight), E), in);

{

}
...

More stories handled by 
ThoughtTreasure

GROCER and SPACE UAs
Jenny Powell was a grocer.
spin GROCER PA to AWAIT-CUSTOMER
Jenny walks to checkout counter
At seven am she stepped out into the street.
Jenny walks to street
##############################################################
#**      wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww#
#  **    w                                              scssw#
#    ***                                                ssssw#
#       **                                              sFssw#
#        w*                                             ssssw#
ssssw#
#        w*  ttt
ssssSssss
sssssssssssssssssssssssssssss
#        w * tttc
ssssw#
#        w s*ctt
sssssssssssssssssssssssssssss
sCssw#
#        w   ttt
C        l                  ssssw#
#        w                                              swssw#
#        w                                              ssssw#
#        w                                              ssssw#
#        w                                              ssssw#
#        wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww#
##############################################################

Question answering

Q: Where was Jenny’s left foot?
A: Her left foot was in the corner grocery.
Q: What salamis was she near?
A: She was near Danish salami.
Q: When did she step out into the street?
A: She walked to the street at seven am.

SLEEP and SHOWER UAs
Jim was sleeping.
spin SLEEP PA to ASLEEP
Jim lies down in bed
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&                                                               wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww&
&                                                     wwwwwwwwwww tttwsss
ht     Aswcccccccccw&
wcccccccccw&
&                                   wwwwwwwwwwwwwwwwwww
w  tttwmss
w&
wcc
w         w   smwmss
&wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwccccccccw
w         w   smwmss
&w  llllllll ss
g Ecccc ssssssssswccccccccw
wcv
w&
&wa llllllll ss
s    ssssssssswccccccccw
wwww
wwwww
wwmss
wcc
w&
wwwwwwwwww
&wA Jc
sswccccccccw
wwwww
wwww&
&w   cc                           sswccccccccw
w&
sswwwwwwwwww
&wr
w&
&wr
w         **************************************            w&
&wr
**wwwwwwwwwwwwwwwwwwwwwwwwwttttttttttttl*          lw&
&w                                         *   ssw
wttttttttttttt *         tw&
wttttttttttttt *         w&
&w                                       **    ssw
s          *JJJJJJJJw&
wA
&w J                                w  **      ssw
w                JJJJJJJJJw&
&w                                  w**        Rsw
&w             s                    w           sw
wls
JJJJJJJJJw&
&w         ttttttttt
wwwwww
wwww
w s              JJJJJJJJJw&
ssw
sttttttttts
&wr
w                    w s              JJJJJJJJJw&
ss
ssw
&wr
ttttttttt
w                JJJJJJJJJw&
ss
Aw                                 w                JJJJJJJJJw&
s           ss
&wr
&w    s                    ss
w                                 w   E            JJJJJJJJJw&
&w  tttt
sssssssssss ss
rrw
w     ttttttJt
JJJJJJJJJw&
&w A          sssssssssss ss
rrw
w                    w    rrrrr
rrrrr Aw&
&wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&

He woke up.
spin SLEEP PA to AWAKE
He poured Pert Plus on his hair.
spin SHOWER PA to READY-TO-LATHER
Jim walks to shower
Jim turns on shower
Jim pours shampoo on hair
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&                                                               wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww&
&                                                     wwwwwwwwwww tttwsss
ht  *  Aswcccccccccw&
&                                   wwwwwwwwwwwwwwwwwww
w  tttwmss
*     wcccccccccw&
&wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwccccccccw
w         w   smwmss
*     wcc
w&
w&
*      wcv
w         w   smwmss
g Ecccc ssssssssswccccccccw
&w  llllllll ss
*      wcc
&wa llllllll ss
s    ssssssssswccccccccw
wwww
wwwww
wwmss
w&
&wA Jc
sswccccccccw
wwwww
*wwwwwwwwww
wwww&
&w   cc                           sswccccccccw
***              w&
&wr
sswwwwwwwwww
*             w&
&wr
w                              
*            w&
wwwwwwwwwwwwwwwwwwwwwwwwwttttttttttttl*          lw&
&wr
wttttttttttttt *         tw&
&w                                             ssw
&w                                             ssw
wttttttttttttt *         w&
&w J                                w          ssw
wA
s          *JJJJJJJJw&
w                JJJJJJJJJw&
&w                                  w          Rsw
&w             s                    w           sw
wls
JJJJJJJJJw&
w s              JJJJJJJJJw&
wwwwww
&w         ttttttttt
wwww
ss
&wr
sttttttttts
ssw
w                    w s              JJJJJJJJJw&
&wr
ttttttttt
ssw
w                JJJJJJJJJw&
ss
&wr
s           ss
Aw                                 w                JJJJJJJJJw&
w                                 w   E            JJJJJJJJJw&
&w    s                    ss
&w  tttt
sssssssssss ss
rrw
w     ttttttJt
JJJJJJJJJw&
&w A          sssssssssss ss
w                    w    rrrrr
rrw
rrrrr Aw&
&wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww
wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&

Question answering UAs

Q: Where was Jim? 

LOCATION  QUESTION understanding agent

A: He was in the bedroom while sleeping. He was in 
the bathroom while taking a shower.

Understanding agency: Image

Space UA

Time UA

Friend UA

Relation UA

Emotion UA

Sleep UA

Goal UA

TakeShower UA

Understanding agency: Reality

Complex agent dependencies

Space UA

freezing →
outside

nice location →
happy

falling →
prevent fall

buy flowers →
florist

Emotion UA

Goal UA

success →
happy

pain →
withdraw

Complex updates

Jim went to sleep.
Jim walks to bed.
1.
Jim lies down.
Jim falls asleep.

2.

3.

Many possible language inputs

Mary is sleeping.
Mary is lying awake in her bed.
Mary was lying asleep in her bed.
Mary was asleep and Jim did not want to wake 
her.
At ten in the morning, Mary was still asleep.
Mary had only slept a few hours.
…

ThoughtTreasure wish list

(cid:132) Better concept and lexical entry coverage
(cid:132) Better coverage of stereotypical locations 
(cid:132) Better script coverage
(cid:132) Better coverage of typical object properties
(cid:132) Script recognition
(cid:132) Script-based word sense disambiguation
(cid:132) Dynamic location generation
(cid:132) English annotation of knowledge base
(cid:132) Graphical tools for commonsense knowledge entry
(cid:132) Graphical display of simulation
(cid:132) Compound noun understanding
(cid:132) Question-based understanding
(cid:132) Metaplanning


Example:  Cart  with  Pendulum  and  Spring  (Continued) 

1 

2.003J/1.053J Dynamics  and  Control  I,  Spring  2007

Professor Peacock

4/23/2007


Lecture  18 

Lagrangian  Dynamics:  Equilibrium  Analysis  ­
Cart  with  Pendulum  and  Spring  and  Spinning

Hoop  with  Sliding  Mass  Examples


Example:  Cart with Pendulum and Spring (Continued) 

Recall: 

Figure  1:  Cart with  pendulum  and  spring.  Figure  by MIT  OCW. 

Equations  of Motion 

(M  + m) ¨x + m(¨s sin θ + 2 ˙sθ˙ cos θ + sθ ¨ cos θ − sθ˙2  sin θ) = 0 

sθ ¨ + 2 ˙sθ˙ + ¨x cos θ + g sin θ = 0 

ms¨ + mx¨ sin θ − msθ˙2  − mg cos θ + k(s − l) = 0 

(1)


(2)


(3)


Cite  as:  Thomas  Peacock  and  Nicolas  Hadjiconstantinou,  course  materials  for  2.003J/1.053J  Dynamics  and 
Control  I,  Spring  2007.  MIT  OpenCourseWare  (http://ocw.mit.edu),  Massachusetts  Institute  of  Technology. 
Downloaded  on  [DD  Month  YYYY]. 



Example:  Cart  with  Pendulum  and  Spring  (Continued) 

2 

Equilibria 

Set  all  variables  to  0  except  for  position  variables. 

s¨ = s˙ = θ ¨ = θ˙ = x¨ = x˙ = 0 

Conﬁguration: 

mg 
θ0	 = 0,  s0  =  l +  k  (Stable) 
=  l −  mg  (Stable  or  unstable?  Expect  it  to  be  unstable  based  on 
π ,  s0 
=
θ0 
k 
physical  intuition.) 
x  for  both  can  be  any  value. 

Linearize Equations (1), (2), and (3) about θ0  = π and s o  =  l − mg/k 
θ = θ0  + φ,  s = s0  + � 
θ˙ = φ˙ ,  φ ¨ = θ¨,  s˙ = �˙,  s¨ = ¨� 

Taylor  Series 

cos(θ0  + φ) = cos θ0  + 

d 
dθ 

 
 
�
 
cos θ φ + . . . ≈ −1 + 0  for  θ = π 
�
 
�
�
θ0 

sin(θ0  + φ) = sin θ0  + 

Linearization 

d 
dθ 

sin θ

 
 
�
 
φ = 0 − φ  for  θ = π 
�
 
�
�
θ0 

(M  + m) ¨x + m[ ˙�(−φ) + 2 ˙�φ˙ (−1) + (s0  + �)φ¨(−1) − (s0  + �)φ˙ 2 (−φ)] = 0


¨

(M  + m) ¨x − ms0φ = 0 

(s0  + �)φ ¨ + 2 ˙�φ˙ + ¨x(−1) + g (−φ) = 0 

¨ 
s0φ − x¨ − gφ = 0 

(1Lφ ) 

(2Lφ ) 

m�¨ + mx¨(−φ) − m(s0  + �)φ˙ 2  − mg (−1) + k(s0  + � + l) = 0 

Cite  as:  Thomas  Peacock  and  Nicolas  Hadjiconstantinou,  course  materials  for  2.003J/1.053J  Dynamics  and 
Control  I,  Spring  2007.  MIT  OpenCourseWare  (http://ocw.mit.edu),  Massachusetts  Institute  of  Technology. 
Downloaded  on  [DD  Month  YYYY]. 

Example:  Cart  with  Pendulum  and  Spring  (Continued) 

3 

s0  =  l − 

mg 
k 

m�¨ + k� = 0 

(3Lφ ) 

Solution  and  Analysis 
From  (1Lφ ): 

Substitute  in  (2Lφ ). 

x¨ = 

ms0 
¨ 
φ 
(M  + m) 

¨ 
s0φ − 

ms0 
¨ 
φ − gφ = 0 
(M  + m) 

g (M  + m)
M s0 
Solutions  are  of  form  φ = φ0 eλt .  φ ¨ = λ2φ. 

¨ 
φ − 

φ = 0 

(M  + m) 
λ2  − g 
M s0 

= 0 

Finally: 

�
λ = ± 
Predicts  exponential  growth  of  θ  disturbances  in  time,  therefore  unstable. 

 
g (M  + m)
M s0 

Equation  (3Lφ )  still  predicts  that  small  stretches  of  the  spring  lead  to  oscilla­
tions. 

Cite  as:  Thomas  Peacock  and  Nicolas  Hadjiconstantinou,  course  materials  for  2.003J/1.053J  Dynamics  and 
Control  I,  Spring  2007.  MIT  OpenCourseWare  (http://ocw.mit.edu),  Massachusetts  Institute  of  Technology. 
Downloaded  on  [DD  Month  YYYY]. 

Spinning  Hoop  with  Sliding  Mass 

4 

Spinning  Hoop  with  Sliding  Mass


Figure  2:  Spinning  hoop with  sliding mass.  The  hoop  of  radius,  a  rotates.  The 
mass, m  slides  around  the  hoop.  Figure  by MIT  OCW. 

Massless  ring  - Frictionless 
Rotating  about  the  vertical  axis 
Center  O  with  Radius  a 
m  slides  on  hoop  - 2  degrees  of  freedom.  If  m  were  a  free  particle,  3  degrees  of 
freedom. 
Torque,  τ  about  z  axis. 

Generalized  Coordinates  and  Generalized  Forces 
Two  generalized  coordinates:  θ,  φ 

What  is  the  work  done  with  a  small  change  θ?  None.  Only  gravity. 

Ξθ  = 0 

External  torque  applied. 

Ξφ  = τ 

Cite  as:  Thomas  Peacock  and  Nicolas  Hadjiconstantinou,  course  materials  for  2.003J/1.053J  Dynamics  and 
Control  I,  Spring  2007.  MIT  OpenCourseWare  (http://ocw.mit.edu),  Massachusetts  Institute  of  Technology. 
Downloaded  on  [DD  Month  YYYY]. 

Spinning  Hoop  with  Sliding  Mass 

5 

Kinematics


Figure  3:  Kinematic  diagram  of  sliding mass  on  hoop.  Figure  by MIT  OCW. 

⊥  components  sliding  on  hoop,  rotating  into  page. 

Lagrangian 

T  =

1 
mv 2 
particle 
2 

L = T  − V

1 
m(a 2 θ˙2  + a 2  sin2 θφ˙ 2 )

2 
V  = −mga cos θ 

=

L = T  − V  =

1 
m(a 2 θ˙2  + a 2  sin2 θφ˙ 2 ) − mga cos θ 
2 

Equations  of Motion 
θ: 

= Ξθ 

 
 
d  ∂L 
∂L 
�
�
dt  ∂ θ˙  − 
∂ θ 
∂L 
2 θ˙
= ma 
∂ θ˙ 

∂L 
∂ θ 

= ma 2  sin θ cos θφ˙ 2  − mga sin θ 

ma 2 θ ¨ − ma 2  sin θ cos θφ˙ 2  + mga sin θ = 0 

(4) 

φ: 

 
 
∂L 
d  ∂L 
�
�
−  = Ξφ
dt  ∂φ˙
∂φ 

Cite  as:  Thomas  Peacock  and  Nicolas  Hadjiconstantinou,  course  materials  for  2.003J/1.053J  Dynamics  and 
Control  I,  Spring  2007.  MIT  OpenCourseWare  (http://ocw.mit.edu),  Massachusetts  Institute  of  Technology. 
Downloaded  on  [DD  Month  YYYY]. 

Spinning  Hoop  with  Sliding  Mass 

6 

∂L 
∂φ˙

= ma 2  sin2 θφ˙

= 0 

∂L 
∂φ 
Ξφ  = τ 

d 
(ma 2  sin2 θφ˙ ) = τ 
dt 

Modiﬁcation:  Add  Controller 

Imagine  a  controller  that  keeps  φ˙ a  constant. 

Assume  φ˙ =  constant =  Ω. 

d 
τ  = (ma 2  sin θΩ)
dt 
Controller measures  θ  and  θ˙ ,  then  sets  τ  so  that  Ω  is  constant. 

Assume  that  this  equation  is  always  satisﬁed  by  controller. 

Equation  (4)  becomes: 

θ ¨ − sin θ cos θΩ2  + 

g 
a 

sin θ = 0 

Equilibrium  Points 
Equilibria  - must  use  original  nonlinear  equations  to  determine  equilibrium 
points. 

θ˙ = θ ¨ = 0

g 
− sin θ cos θΩ2  + 
a 
Physical  intuition  tells  us  some  equilibria  should  fall  at  θ = 0  or  θ = π . 

sin θ = 0


g 
sin θ( 
a 

− cos θΩ2 ) = 0 

θ0  = 0, π 

(sin θ = 0) 

(5) 

Cite  as:  Thomas  Peacock  and  Nicolas  Hadjiconstantinou,  course  materials  for  2.003J/1.053J  Dynamics  and 
Control  I,  Spring  2007.  MIT  OpenCourseWare  (http://ocw.mit.edu),  Massachusetts  Institute  of  Technology. 
Downloaded  on  [DD  Month  YYYY]. 

Spinning  Hoop  with  Sliding  Mass 

7 

Three  equilibrium  positions  from  the  equation. 

g
g
cos θ =  aΩ2  ,  θe  = arccos aΩ2 
Balance  between  gravity  and  centripetal  force  (normal  force  from  hoop) 
g  <  1  or  θe
Note  that  the  solution  θe  =  arccos  g  only  exists,  provided 
aΩ2 
aΩ2 
g ). 
equilibrium  only  exists  when  rotation  is  fast  enough  (Ω2  ≥  a

Stability 
Stability  around  θe  = arccos(g/aΩ2 ) 
Look  at  θe  = arccos  g 
aΩ2 
θ = θe  + �,  θ˙ = �˙,  θ ¨ = ¨� 

�¨ − sin(θe  + �) cos(θe  + �)Ω2  + 

g 
a 
Use  angle  addition  formulas  to  expand  (an  alternative  to  Taylor  series  expan­
sion): 

sin(θe  + �) = 0 

g 
�¨−[(sin θe  cos �+cos θe sin �)(cos θe  cos �−sin θe sin �)]Ω2+ 
(sin θe cos �+cos θe  sin �) = 0 
a 

�¨ − (sin θe cos θe  cos 2  � − sin2 θe  cos � sin � + cos2 θe  sin � cos � − sin2  � sin θe cos θe )Ω2 
g
+  (sin θe cos θe  + cos θe �) = 0 
a 
(6) 

We  approximate: 
cos � ≈ 1 
sin � ≈ � 

�¨ − Ω2  sin θe cos θe  + (sin2 θe  − cos 2 θ)Ω2  · � + 

g 
a

sin θe  + 

g
� cos θe  = 0 
a 

Terms with no  � (no perturbation variable) are a  restatement of the equilibrium 
conﬁguration  you  already  found. 

 
g
g
�
�
− Ω2 cos θe 
a 
a
So  those  terms  cancel  out  by  the  equilibrium  condition  shown  in  (5). 

sin θe  − Ω2  sin θe cos θe  → sin θe 

 

�¨ − Ω2 (cos2 θe  − sin2 θe )� + 

g
� cos θe  = 0 
a 

g
But  cos θe  =  aΩ2  ,  so 

Cite  as:  Thomas  Peacock  and  Nicolas  Hadjiconstantinou,  course  materials  for  2.003J/1.053J  Dynamics  and 
Control  I,  Spring  2007.  MIT  OpenCourseWare  (http://ocw.mit.edu),  Massachusetts  Institute  of  Technology. 
Downloaded  on  [DD  Month  YYYY]. 

Spinning  Hoop  with  Sliding  Mass 

8 

�¨ + Ω2  sin2 θe � = 0

Stable,  because  this  is  a  positive  sign.  sin or  cos  solutions.  Oscillations.  Stable.


Next  time:  Equilibrium  points  θ = 0, π .


Cite  as:  Thomas  Peacock  and  Nicolas  Hadjiconstantinou,  course  materials  for  2.003J/1.053J  Dynamics  and 
Control  I,  Spring  2007.  MIT  OpenCourseWare  (http://ocw.mit.edu),  Massachusetts  Institute  of  Technology. 
Downloaded  on  [DD  Month  YYYY]. 


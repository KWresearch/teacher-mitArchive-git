EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

VOLUME I:  

OPERATIONS 

MANUAL 


PROJECT: 

EMFFORCE 


Spring 2003 


Space Systems Product Development 
Professor David Miller 

Massachusetts Institute of Technology 

1 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

Table of Contents 

2 

3 

4 

TABLE OF CONTENTS ............................................................................................................................................2

CONTRIBUTORS .......................................................................................................................................................4

FORWARD (JEU) .......................................................................................................................................................2

MISSION STATEMENT (ESS) .................................................................................................................................3

PURPOSE OF THIS DOCUMENT (ESS) ................................................................................................................3

GENERAL OPERATIONS CONSIDERATIONS .........................................................................................4

1 
1.1 
LABORATORY SAFETY  ................................................................................................................................4
1.1.1 
Short circuits ..........................................................................................................................................4

1.1.2  Glass care ..............................................................................................................................................4

STRUCTURE ASSEMBLY PROCEDURE ....................................................................................................5
STRUCTURE ASSEMBLY (GG) .....................................................................................................................5

2.1 
AIR CARRIAGE ASSEMBLY (AS) .................................................................................................................5

2.2 
2.3 
AIR CARRIAGE OPERATION (AS) ................................................................................................................6

ELECTRONICS, WIRING, AND POWER ....................................................................................................8

OVERALL ELECTRONICS BOARD DESIGN SPECIFICATIONS (SS) ..................................................................8

3.1 
HOW TO LOAD SOFTWARE ONTO THE ELECTRONICS BOARD (SS) ...............................................................8

3.2 
HARDWARE CONNECTIONS/INTEGRATION (SS)...........................................................................................8

3.3 
3.4 
ELECTRONICS POWER (TS) .......................................................................................................................11

ELECTROMAGNETS (TS) ............................................................................................................................11 

3.5 
3.6 
REACTION WHEEL (TS).............................................................................................................................12

CRYOGENICS (MW) .....................................................................................................................................12

TANK REMOVAL AND ASSEMBLY..............................................................................................................13

4.1 
LIQUID NITROGEN .....................................................................................................................................13

4.2 
TEST DURATION ........................................................................................................................................13

4.3 
4.4 
OTHER .......................................................................................................................................................13

TEST OPERATIONS CONTROL AND MANAGEMENT (ESS) ..............................................................14

GRAPHICAL USER INTERFACE ...................................................................................................................14

5.1 
5.1.1 
Settings and Controls ...........................................................................................................................14

5.1.2  Displays ...............................................................................................................................................15

SAFETY  .....................................................................................................................................................15

5.2 
Shut-off switch .....................................................................................................................................15

5.2.1 
5.2.2 
Test Area Border Tape .........................................................................................................................15

ACTUATION AND STRUCTURES SYSTEM TROUBLESHOOTING...................................................15

ELECTROMAGNETS (WF) ..........................................................................................................................15

6.1 
LN2 supply level ..................................................................................................................................16

6.1.1 
6.1.2 
Battery connections..............................................................................................................................16

Coil shorts............................................................................................................................................16

6.1.3 
6.2 
REACTION WHEEL (WF) ............................................................................................................................16 

6.2.1  Mounting ..............................................................................................................................................16

6.2.2  Deformation .........................................................................................................................................17

6.2.3 
Balance ................................................................................................................................................17

Power connections ...............................................................................................................................17

6.2.4 
6.3 
PACKAGING (WF) .....................................................................................................................................17


6 

5 

Massachusetts Institute of Technology 

2 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003


7 

Containment damage: Rings-to-tank interface ....................................................................................17 

6.3.1 
Containment damage: Foam/epoxy structural integrity ......................................................................17

6.3.2 
Brace failure ........................................................................................................................................18

6.3.3 
Velcro failure .......................................................................................................................................18

6.3.4 
AIR CARRIAGE (AS) ..................................................................................................................................18

6.4 
Floatation problems.............................................................................................................................18

6.4.1 
Puck supply line leaks ..........................................................................................................................18

6.4.2 
Tank fill level .......................................................................................................................................18

6.4.3 
Clean table/pucks.................................................................................................................................19

6.4.4 
Tank O-ring rupture ............................................................................................................................19

6.4.5 
Tank Overfill ........................................................................................................................................19

6.4.6 
Tank burst disk .....................................................................................................................................19

6.4.7 
6.4.8 
Regulator inconsistency/freezing .........................................................................................................20

POWER, AND AVIONICS TROUBLESHOOTING ...................................................................................20

POWER (TS) ..............................................................................................................................................20

7.1 
Power boards .......................................................................................................................................20

7.1.1 
Voltage regulator boards .....................................................................................................................21

7.1.2 
7.1.3 
Batteries ...............................................................................................................................................21

DR2000 COMMUNICATIONS BOARDS (JEU) ..............................................................................................22

7.2 
Should the DR2000 LEDs flash like that? ...........................................................................................22

7.2.1 
7.2.2 
I keep receiving bad packets. What could be going wrong? ................................................................23

7.2.3  We’ve changed the packet size and it doesn’t work.  Why not? ...........................................................25

7.2.4  We reset the DR2000s, but now we’re getting bad packets. What happened? ....................................25

7.3 
WIRING (JEU) ...........................................................................................................................................25

7.3.1  How do we connect the TT8 to the DR2000?.......................................................................................25 

7.3.2 
Serial Plug ...........................................................................................................................................26

7.3.3  QSPI Connector ...................................................................................................................................27


VOLUME II: DESIGN APPENDIX 
A  CONTROL ALGORITHM DEVELOPMENT (LS/AB)
B 
SOFTWARE DOCUMENTATION 
C  AVIONICS HARDWARE DESIGN (SS) 
D  CARRIAGE DESIGN (ALS) 
REACTION WHEEL DESIGN (LW, WF) 
E 
F 
COIL AND CONTAINMENT DESIGN AND MANUFACTURE

G  METROLOGY SYSTEM DESIGN 
H 
STRUCTURES AND PACKAGING 
CODE 
I 

Massachusetts Institute of Technology 

3 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

Contributors 

Structure and Power: 
Geeta Gupta 
Amy Schonsheck  
Tim Sutherland  

(GG) 
(ALS) 
(TAS) 

Actuation: 
Jesus Bolivar 
Melanie Woo  
Will Fournier  
Lindsey Wolf  

(JB) 
(MSW) 
(WF) 
(LW) 

Electronics: 
Stephanie Slowik  
(SS) 
Erik Stockham 
(ESS) 
Margaret Sullivan  
(MS) 
Jennifer Underwood  (JEU) 

Formation Flight: 
Amilio Aviles  
Andre Bosch 
Oscar Murillo 
Leah Soffer 

(AA) 
(AB) 
(OM) 
(LS) 

Massachusetts Institute of Technology 

4 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

Forward (JEU) 
In coming years, the development of formation flight technology may prove a significant force in 
the race to provide new and improved satellite mission capabilities.  Formation flight technology 
enables a cluster of satellites to maintain a specified configuration while in orbit about the Earth.  
The MIT SSL SPHERES project demonstrated the initial feasibility of this technology via 
thruster actuation.  The MIT SSL ElectroMagnetic Formation Flight Of Rotating Clustered 
Entities (EMFFORCE) project now seeks to extend the work done by SPHERES to demonstrate 
the viability of utilizing controlled electromagnetic fields to maintain and adjust satellite 
formations. 

There exist many motivations for formation flight architectures.   The major benefits include: 
separation, “virtual” spacecraft, modularity, multiple missions, and mission evolution. Separation 
means that the spacecraft can be separated at large distances.  Keeping the satellites apart from 
one another prevents the disasters inherent in maintaining “all of your eggs in one basket.”  
Furthermore, it enables new technology such as interferometry by increasing the angular 
resolution of onboard imaging equipment.  Flying satellites in formation creates a “virtual” 
spacecraft since the formation is designed to accomplish the same mission that a larger, single 
spacecraft would.  Not only is there a reduction in the overall cost of the mission with respect to 
launching a single satellite, but formation flight facilitates easier packaging, launching, and 
deployment of the member satellites.  Modularity and interchangeability of the spacecraft imply 
that a single failure will not end the mission.   Given that inter-spacecraft interfaces such as 
communications, control, and metrology are soft, a failing spacecraft can be removed from the 
formation and replaced with little effort.  Formation flight enables multiple missions to be 
performed using the same cluster of satellites since the array can self-arrange to reflect a 
multitude of mission requirements.  Furthermore, next generation spacecraft can be launched and 
integrated into the array, gradually evolving the formation’s capabilities as time and technology 
permit.   

Electromagnetic actuation provides several additional capabilities to the flight formation 
concept.  Primarily, should electromagnetic actuation prove feasible, it would reduce, if not 
eliminate entirely, the need for thrusters on formation flying satellites.  Eliminating thrusters 
decreases the amount of consumables on board the spacecraft, leading to longer life.  Thrusters 
produce pollution that can damage sensitive equipment via ablation.  Furthermore, thrusters can 
generate a pollution haze that can cause radiative contamination of sensitive equipment and 
optics.  Since electromagnetic actuation does not result in optical hazing or contamination, 
optical communication between satellites may finally be possible.  Electromagnetic actuation can 
control the relative positioning of the satellites required by formation flight architectures.  
Thrusters are only capable of controlling the absolute positions of satellites. 

Massachusetts Institute of Technology 

2 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

Mission Statement (ESS) 
Understanding the benefits derived from an operable EMFF system and the challenges that must 
first be overcome, the EMFFORCE project set about accomplishing the mission: 

Demonstrate the feasibility of electromagnetic control for formation flying satellites. 

Project EMFFORCE aims to operate a formation flying testbed that represents a real-world 
system.  The mission statement also implies that a 2-D operational testbed must be translatable to 
a 3-D operational testbed.  Electromagnetic control suggests the design and implementation of a 
controller using no thrusters but instead coupled electromagnetic forces with angular momentum 
storage. 

Purpose of this Document (ESS) 
Volume I: OPERATIONS MANUAL is designed for the operator who will continue to use the 
current EMFFORCE system in accordance with the mission.  It provides details for the setup, 
operation, and troubleshooting of all EMFFORCE subsystems.  The OPERATIONS MANUAL 
provides a quick reference guide to the current system and operational lessons learned as of May 
2003.  For a detailed description of subsystem design analyses, specifications, and fabrication 
processes, refer to Volume II: DESIGN APPENDIX. 

Massachusetts Institute of Technology 

3 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

1  General Operations Considerations 
1.1  Laboratory Safety 
The objective of the EMFFORCE safety program is to protect staff, equipment, and the facility 
from preventable hazards.  In general, simply being careful and using common sense can prevent 
most mishaps before they happen. 

1.1.1  Short circuits 
The metal table surface creates a significant short circuit hazard.  Wire leads and battery casings 
frequently short across the table, creating sparks that can injure a person or destroy sensitive 
microelectronics.  Never place batteries or power sources on the metal air table surface. 

1.1.2  Glass care 
The glass surface needs to be protected from scratches and chips that can degrade its 
performance.  LN2 spills may also cause thermal stress in the glass and lead to cracking. 

Massachusetts Institute of Technology 

4 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 	

Space Systems Product Development – Spring 2003 

2  Structure Assembly Procedure 
When assembling the vehicle it is important to perform certain steps before others.   
Below are instructions to assemble the EMFFORCE vehicle.  The RWA mount, base plate, U 
shaped braces, and L brackets were all cut using the water jet cutter, operated using OMAX 
control files.  These files are available in the Drawings Folder of the OPSMAN directory. 

2.1  Structure Assembly (GG) 
1.	 Attach the U-shaped braces to base plate.  These braces are attached to the plate with 10­
32 ½” screws.  The tall braces are mounted across each other for the smaller ring to sit 
on, and the shorter braces are also mounted across each other for the larger ring to sit on. 

2.	 Next the air carriage pucks must be attached to the ring.  Please see Appendix D for more 
instructions on puck attachment. 

3.	 Using foam as padding place the larger electromagnet on the set of shorter braces and 
fasten in place with hose clamps.  See Figure 2.4.  Again using foam as padding, 
carefully place inner ring inside of outer ring, on the taller set of braces and fasten in 
place with hose clamps.  Be sure to assemble the electromagnets so that the flat part of 
each ring is aligned horizontally at the top.  The power leads on both rings should be over 
the square U-shaped bracket. 

4.	 Once the rings are in placed the L brackets that hold up the RWA mount may be epoxied 
in place.  These brackets are to be mounted at a height of 355 mm from the bottom of the 
assembled electromagnets.  In order to fasten these brackets securely to the rings, first 
epoxy them in place and then add a layer of fiberglass strips for added rigidity.  Note that 
these attachments will take 24 hours to dry.  After the L bracket attach points have cured 
the RWA mount may be fastened to the L-brackets and leveled using 6-32 nuts and bolts.  

5.	 At this point the RWA, electronics mount, batteries, and remaining air carriage may be 
placed on the vehicle in any order.  The metrology and communications subsystems can 
also be integrated onto the physical vehicle once the LN2 tank is in place. 

2.2  Air Carriage Assembly (AS) 

Please see Appendix D for visual aids in identifying parts and their locations. 

1.	 Remove the large plastic adapter that comes standard on the bottomline kit if it hasn’t 
been already.  Connect the 1/8” end of the reducing coupling to the end of the bottomline 
hose and connect the ¼” nipple to the other end. 

2.	 Connect one ¼” tube adapter to the output of the regulator.  Connect the pressure gauge 
(if desired) to the gauge port of the regulator.  Connect the nipple of the bottomline 
assembly to the input of the regulator. 

Massachusetts Institute of Technology 

5 	

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 	

Space Systems Product Development – Spring 2003 

3.	 For each puck, place finger spring over gas port.  Connect one 1/8” tube adapter to the 
port. 

4.	

Insert each puck into place in the base ring.  Attach with long 6-32 screws.  (Note: this is 
not a rigid attachment. 

5.	 Connect one ¼” tube adapter, three 1/8” tube adapters, one ¼” hex plug, and one 1/8” 
hex plug into the ports of the manifold. 

6.	 Place manifold in desired location on base ring.  This should be right next to the spot for 
the CO2 tank. 

7.	 Measure appropriate tube length required for going from the manifold to the farthest 
puck.  Cut three tubes of this length.  Press one end of each tube into a 1/8” fitting in the 
manifold, and the other end into the puck fitting. 

8.	 Cut another short length of tube and connect the ¼” manifold fitting to the output of the 
regulator. 

9.	 When ready for operation, install the tank in its water bath and connect tank to 

bottomline.  See operation instructions below. 


(Note: All connections use Teflon tape to seal them.  Make sure when wrapping with Teflon tape 
that the tape is wrapped clockwise over the top of the fitting as the threaded end points towards 
you to prevent the tape from bunching up.) 

2.3  Air Carriage Operation (AS) 

To operate the EMFFORCE air carriage, just follow these quick and easy steps: 

1.	 Fill the water bath container to the marked fill line with hot tap water.  Place the water 
bath on its Velcro spot on the base ring. 

2.	 Connect the tank to the bottomline.  There are two types of tank valves in use for this 
project.  One is a standard pin valve (Figure 2.8).  Be aware that this type of valve will 
engage as soon as it is connected to the bottomline, so be ready to move quickly and 
begin testing right away.  The other type (Figure 2.9) includes an on/off valve controlled 
with a knob.  One may connect this tank completely and then activate the airflow anytime 
after that. 

Massachusetts Institute of Technology 

6 	

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

Figure 2.8.  Standard pin valve. 

Figure 2.9.  Valve with on/off . 

3.  Place the tank into the water bath. 

4.  If appropriate, turn the valve to on when ready for test to commence. 

5.  Manually set pressure to desired level using the knob on the regulator. 

Massachusetts Institute of Technology 

7 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

3  Electronics, Wiring, and Power 
3.1  Overall Electronics Board Design Specifications (SS) 
Three Electronics boards were manufactured by Advanced Circuits.  The boards are 2-layer 
prototyping boards made of 0.062” thick FR4 and has dimensions of 13.2cm x 10.5cm. 

3.2  How to Load software onto the Electronics Board (SS) 
The overall Electronics board is depicted in the OrCAD Layout drawing, Figure 3-1.  First, the 
TT8 computers must be attached to the board itself.  Two Motorola TT8cs shall connect to the 
electronics board via one 16-pin header and one 20-pin header for each computer.  The Tattletale 
computers should fit snug on the board as per the TT8/header connection on Onset Computer’s 
IO-8 prototyping board.  Let the “top” of the board be defined as the portion with the screw 
terminals and the “bottom” be the portion with the RS232 serial ports.  On the top of the board, 
there are also 6 3-pin headers perpendicular to the 16-pin headers.   The rightmost of these pin 
headers for each Tattletale (X and Y according to the following diagram) connect to the 
IRQ3/MCLR/DGND pins on the Tattletales.  When loading to the FLASH memory, a female 
header pin must connect the IRQ3 and MCLR pins.  This connection should be removed upon 
successful code loading onto the FLASH memory.  No such connection is needed when loading 
code to the RAM. 

Four RS232 serial ports are located on the bottom of the tattletale.  Ports U and W are used for 
the code loading of the Metrology and Avionics code, respectively.  Ports T and V are designated 
for TT8-to-TT8 communication.  A male-to-male serial cable must be connected to these two 
ports so that the Metrology and Avionics computers can communicate. 

To load software, connect the computer to serial port U for Metrology and W for Avionics using 
a serial cable.  Ensure that the AA batteries are fully charged, and then connect them to the 
Voltage Regulators as described in the Power connection section.  Then connect the leads from 
the Voltage Regulator Board into screw terminals A and B of Figure 3-1 to supply Power and 
Digital Ground, respectively.  Load code as specified in the Tattletale8C manual (see Appendix 
C). 

In order to reset the system and allow it to accept new code, it may be necessary to hard reset the 
avionics.  This must be accomplished by disconnecting the batteries from the voltage regulator 
board; the TT8 will not reset when connected to a live avionics system, even with the main 
power unplugged.  The user must turn the gyro on prior to reconnecting the power supply. 

3.3  Hardware Connections/Integration (SS) 
All input/output pins and channels for the Tattletale computers are wired to screw terminals 
(screw terminal part specification to be found in Appendix C).  Leads from each piece of 
hardware are simply placed in the terminal and fastened down with the screws. 

The following are the board part designations according to Figure 3-1.  Simply connect a lead 
wire(or in the case of a serial port, a serial cable) from the hardware needed to the terminal also 

Massachusetts Institute of Technology 

8 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

specified in Figure 3-1.  Connect the Power/DGND leads LAST.  Attach all leads with both the 
Electronics Power System and the Actuation Power Systems OFF.  Terminal specifications are 
given as follows: 

Table 3-1: Electronics Board/Hardware Integration Directions 

Input or Output? 
Purpose 
Input 
Power 
Input 
DGND 
Input 
Reaction Wheel 
Input 
Sm Control Loop 
Output 
Electromagnet 2 
Output 
PWM Output 
Output 
Electromagnet 1 
Output 
Tach 2 
Output 
Tach 1 
X 
IR Timing (Tied to K) 
X 
IR Timing (Tied to J) 
Output 
Ultrasonic 
Output 
IR 
Input 
Ultrasonic 3 
Input 
IR 1 
Input 
Ultrasonic 2 
Input 
IR2 
Input 
Ultrasonic 1 
Input 
IR 3 
I/O 
Serial Port TT8-TT8 Comm. 
Input 
Serial Port for Code Loading 
I/O 
Serial Port TT8-TT8 Comm. 
Serial Port for Code Loading 
Input 
Metrology IRQ3/MCLR (must be tied together for code loading) 
Avionics IRQ3/MCLR (must be tied together for code loading) 
Output 
Actuator Stop 
Output 
Rate Gyro 

Letter 
A 
B 
C 
D 
E 
F 
G 
H 
I 
J 
K 
L 
M 
N 
O 
P 
Q 
R 
S 
T 
U 
V 
W 
X 
Y 
Z 
AA 

Massachusetts Institute of Technology 

9 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 


Figure 3-1:

 Figure 3-1:  Electronics Board/Hardware Integration Directions 

Massachusetts Institute of Technology 

10 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

3.4  Electronics Power (TS) 
The power for all the electronics hardware is wired through the voltage regulator (VR) board.  
All connections to the VR board are made through single screw terminals.  The connection is 
made by inserting one end of a wire into the terminal and turning the top screw tight.  The two 
terminals at the top of the board connect to the AA-battery pack.  One connects to the positive 
voltage terminal of the batteries, and the other connects to the negative.  They are appropriately 
labeled.  The negative terminal also serves as the common ground for the entire power system. 

The VR board contains one +5V and one +12V regulator.  Each regulator connects to a strip of 
positive and ground terminals.  The 5V regulator has fourteen positive and ground terminals, 
while the 12V regulator has eight.  More terminals can be added to either side as needed. 

Each hardware component requires one connection to a 5V or 12V terminal and a second 
connection to a ground terminal.  There are twelve hardware components that require a 5V 
connection: 
•  2 EM power boards 
•  1 RW power board 
•  1 Tachometer 
•  2 TT8 computers 
•  1 TT8 a/d converter 
•  1 DR2000 
•  1 IR receiver 
•  1 IR transmitter 
•  1 Ultra-sound receiver 
•  1 Ultra-sound transmitter 

There are at least four hardware components that require a 12V connection: 
•  2 EM power boards 
•  1 RW power board 
•  1 Gyro 
•  1-3 power board fans (optional) 

3.5  Electromagnets (TS) 
The wiring for the electromagnets is through the two Electromagnet (EM) boards.  There is one 
EM board for each electromagnet.  At the top of each EM board, there are six screw terminals, 
each appropriately labeled.  Two of the terminals connect to 5V and ground from the VR board, 
and two connect to 12V and ground.  The fifth terminal connects to the signal wire from the 
on/off switch.  The switch also requires a connection to ground, so it must share one of the two 
ground terminals.  The sixth terminal connects to the signal wire from the Tattletale computer.  
The TT8 also requires a connection to ground, so it too must share one of the two ground 
terminals. 

Massachusetts Institute of Technology 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

The wiring that carries the current between the batteries and the electromagnet is located on the 
underside of the EM board.  Each EM board has three groups of MOSFETs, and the wiring for 
each group is identical.  For each group, there are two pairs of red and black 12-gauge wires, 
each appropriately labeled.  One pair connects to the positive and negative terminals of a D-cell 
battery pack.  The other pair connects to the beginning and end of the electromagnet coil.  All 
connections use Anderson brand connectors. 

3.6  Reaction Wheel (TS) 
The Reaction Wheel (RW) board is identical to the EM board, except that the RW board has only 
one group of MOSFETs.  The six terminals at the top of the board have the same connections as 
the EM boards.  On the underside of the board, one of the pairs of wires connects to a D-cell 
battery pack, while the other pair connects to the positive and negative wires of the reaction 
wheel motor.  All connections use Anderson brand connectors. 

4  Cryogenics (MW) 
The electromagnet wire only exhibits superconductor properties when kept below 110 K.  
Therefore, it is important that it is kept encased in liquid nitrogen throughout the duration of the 
test.  The cryogenics system is comprised of the liquid nitrogen tank, outer coil container, and 
inner coil container.  The bottom of the tank has four brass 1.5” drain pipes that connect to the 
inner and outer coils, each with two drain pipes.  Figure 1 shows the overall design of the 
cryogenic containment system, and Figure 2 shows the pipe clamp connections between the tank 
and coil assemblies.   

Liquid Nitrogen Tank 

Pipes 

Outer Coil 

Inner Coil 

Figure 4-1: Cryogenic System Overview 

Massachusetts Institute of Technology 

12 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 	

Space Systems Product Development – Spring 2003 

Pipe Clamps 

Poly Washers 

Figure 4-2: Tank-Coil Interface 
4.1  Tank Removal and Assembly 
The tank may be removed from the coils by unscrewing the pipe clamps.  The tanks are not 
interchangeable between vehicles and only fit on the coils in one direction.  If the pipes are not 
aligned, rotate the tank until they fit.  It is important to have 1.5” Poly washers on each of the 
pipes to prevent leaking at the connections.  Rubber washers will crack and leak.   

4.2  Liquid Nitrogen 
To fill the coil containers and tank, remove the tank lid keeping in mind that there may be 
metrology hardware attached.  Fill the vehicle through the tank with liquid nitrogen either by 
pouring it from a container or by directly piping it to the vehicle from the liquid nitrogen tank.  It 
is normal for the vehicle to make cracking noises as it contracts.  Once the tank is full, the lid 
should be secured before operation. 

4.3  Test Duration 
The coils stop superconducting once the liquid nitrogen level falls below 75% of the coil 
containers.  The tank holds enough liquid nitrogen to fully replenish both the inner and outer coil 
completely once.  With the tank full, the liquid nitrogen supply should allow for approximately 
20 minutes of operation before the coils stop superconducting. 

4.4  Other 

•	 Leaks will occur due to the thermal cycling that the containers are subjected to.  They 
may be patched with epoxy and fiberglass cloth. 

•	

If the coil containers are filled separately, the inner coil must be filled before the outer 
coil is filled.  The outer coil should never be filled independently or damage to the inner 
coil may occur due to contraction. 

•	 Once filled with liquid nitrogen, the coil containers become extremely cold.  If the 
vehicle needs to be touched while it is filled, it may be necessary to do so with gloves. 

Massachusetts Institute of Technology 

13	

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 	

Space Systems Product Development – Spring 2003 

•	 Fill the tank carefully and slowly.  The liquid nitrogen often reacts violently to the room 
temperature container. 

•	 Frost forms on the tank, pipes, and containers.  This may interfere with air carriage 
operation if the frost or condensation falls on the glass.  Additionally, the electronics 
must be shielded from the water as the frost melts and drips. 
5  Test Operations Control and Management (ESS) 
5.1  Graphical User Interface 
The GUI provides real-time test monitoring and data logging in support of EMFFORCE test 
operations. 

5.1.1  Settings and Controls 
These controls are available to the user from the LabView front panel 

5.1.1.1  Time Sample 
This variable sets the duration of the sample window during which the serial port will gather data 
from the Comm Board.  It should be set to at least two packet durations in order to maximize the 
probability of capturing at least one complete packet.  The duration of a packet is approximately 
500 ms because of the interrupt timing in the operating system. 

5.1.1.2  Header Tag 
The header tag is currently set to “66” A two byte header sufficiently reduces the probability of 
misidentification of data as a header.  This header is hard-coded into the avionics software, and 
should only be changed for a good reason.  Changing the length of the header would require the 
resizing of the DR2000 packet length as well. 

5.1.1.3  Data File 
This control specifies the location of the telemetry file.  A tab-delimited spreadsheet row will be 
appended to this file on each run though the loop.  The file should be of type *.txt 

5.1.1.4  Bytes to Read 
This control sets the number of bytes to read after the header tag.  Notice that this is twice the 
number of words to read after the header tag.  This needs to be matched to twice the number of 
integers in the telemetry packet from the vehicle, and is currently set to 20 bytes in order to 
capture the 10-integer telemetry packet. 

5.1.1.5  Default Settings: 

•	 Resource name: 
•	 Action: 

ASRL1::INSTR 
Read 

Massachusetts Institute of Technology 

14	

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

•  Baud rate: 
•  Go: 
•  Skip Wait: 

5.1.2  Displays 

115200 
On 
On 

5.1.2.1  Graphs 
Data from the output array are plotted in the charts to the right of the GUI.  The variable to be 
plotted in each chart is determined by the “index” argument on the top of the graph.  This can 
even be changed while the GUI is running. 

5.1.2.2  Serial Read 
The Serial Read display prints the truncated character string that is extracted by the GUI.  
Ideally, it should print a very similar string each time, with the seconds’ byte incrementing.  
Observing patterns in and length of the nonsensical ascii characters may indicate problems with 
receiving full packets from the communications system, or from other problems farther up the 
data stream.  These bytes are stored to the default string file. 

5.1.2.3  Real-Time Data Monitoring 
By observing the real-time data the operator can diagnose several problems that may arise during 
testing, such as sensor drift or failure to update the MSA prior to control execution. 

5.2  Safety

5.2.1  Shut-off switch 
The test coordinator must always ensure that the vehicle is under at all times.  During Test Phase 
I, the most common departures occurred when the PWM signal on the reaction wheel failed to 
0% or 100%.  This results in an uncontrolled spin that must be stopped by breaking the circuit to 
the Reaction Wheel using the Red kill switch.  Sufficient test personnel must surround the 
vehicle so it can be shut down if necessary. 

5.2.2  Test Area Border Tape 
Secure the edges of the glass with two layers of masking tape.  This will be sufficiently thick to 
prevent the air carriage from floating off the edge and onto the floor.   
6  Actuation and Structures System Troubleshooting 
6.1  Electromagnets (WF) 
The electromagnets are contained within the two large black toroids positioned vertically, 
perpendicular to each other, at the center of the vehicle. In the event that the electromagnets fail 
to supply an electromagnetic force, as demonstrated through the use of a gauss meter or by 
holding an object of ferromagnetic material near the electromagnets and observing the reaction, 
the following steps should be taken to determine the root cause of the electromagnet’s failure. 

Massachusetts Institute of Technology 

15 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

6.1.1  LN2 supply level 
The black Styrofoam toroids containing the electromagnets must be filled with liquid nitrogen 
for the superconducting wire to properly super conduct. If the electromagnets fail to perform as 
desired and there is no liquid nitrogen in the toroids, fill them with liquid nitrogen and again 
check the performance of the electromagnets. 

6.1.2  Battery connections 
The electromagnets are powered by a series of D-cell batteries run through power boards, which 
regulate the current flowing through the electromagnets. For the electromagnets to work properly 
the batteries must be fully charged and all power connections must be correctly made, 
furthermore the current controllers on the power boards must be outputting the appropriate 
current. For details on troubleshooting the power boards see section 8.1.1 below. 

6.1.3  Coil shorts 
If neither of the above procedures result in the successful operation of the electromagnets, use a 
Ohm meter to verify that the electromagnetic coils have not shorted. In the event that the 
electromagnetic coils have shorted, (this occurs when the clamps attached to the rings of 
superconducting material come in contact with each other and short) try violently shaking the 
toroid of the affected electromagnet.  In the event that violence fails, you will be forced to 
operate on the toroids. Find a Dremel and carefully remove a small section of the Styrofoam 
toroid. NOTE: You will have to reattach this section when finished so be careful not to remove 
anymore than necessary. Using visual inspection of the now exposed superconducting coils, 
ensure that none of the connections are shorting. When all shorts have been fixed reattach the 
removed Styrofoam using fiberglass and epoxy. See section on containment damage for details 
on patching the containers using fiberglass and epoxy 

NOTE: In the event that you cannot repair the shorts with a surgical operation, it is necessary to 
destroy the entire toroid to remove the superconducting wire and remake the 
toroid/superconducting wire assembly. This process is detailed in Appendix C, and is very costly 
and time consuming. 

6.2  Reaction wheel (WF) 
The Reaction Wheel Assembly (RWA) consists of black urethane disk mounted on top of small 
electric motor. The RWA is located in center of the vehicle mounted to the toroid rings with an 
aluminum cross brace. 

6.2.1  Mounting 
In the event that the aluminum mount for the reaction wheel breaks, it will be necessary to 
manufacture a new one. See Appendix H for details on how to assemble a new RWA mount. 

When attaching the mount to the vehicle’s two toroids it is necessary to ensure that the RWA is 
level. If the wheel is not level, place a level on top of the reaction wheel and adjust the screws, 
which connect the mount to the vehicle’s toroids until the RWA is level in all directions. 

Massachusetts Institute of Technology 

16 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

6.2.2  Deformation 
The reaction wheel is designed to operate below 7,000 RPM above 7,000 RPM the wheel will 
undergo permanent deformation. If the wheel undergoes over speed deformation, or damage of 
any other kind it cannot be repaired, it must be replaced with a new wheel. 

6.2.3  Balance 
The reaction wheels come pre-balanced. If they are not balanced there is nothing that can be 
done about. If they do not mount snugly to the shaft of the motor this may cause unbalanced 
behavior. This can be fixed by applying white masking tape to the shaft of the motor in 
successive layers until the wheel sits snugly around the shaft. 

6.2.4  Power connections 
Similar to the electromagnets, the RWA is powered by D-cells run through a power board. The 
batteries must be charged and connected for the RWA to work properly. To troubleshoot the 
operation of the power boards refer to section 8.1.1 below. 

6.3  Packaging (WF) 

6.3.1  Containment damage: Rings-to-tank interface 
In the event that liquid nitrogen leaks from the toroids-to-tank interface check that the pipe 
fittings have been correctly attached and tightened. If the leak occurs between the pipes and 
Styrofoam add more epoxy and fiberglass to the joint and allow to cure. 

6.3.2  Containment damage: Foam/epoxy structural integrity 
If a leak occurs in the cryogenic containment system, small leaks may be patched with epoxy.  
When a leak is discovered, it should be marked, and the containment system should be emptied 
of liquid nitrogen and be allowed to return to room temperature before patching.  The epoxy used 
for the containment system is Emerson & Cuming STYCAST 2850FT with Catalyst 23LV.  The 
ratio of catalyst (23LV) to epoxy (STYCAST) is 17.5 : 100.  To measure these quantities, 
syringes may be used for more accurate measurements.  The opening of the syringe used for the 
epoxy may have to be widened since the epoxy is viscous.  After the correct amounts of catalyst 
and epoxy have been measured, they must be stirred thoroughly until the mixture is homogenous.  
The mixture should be less viscous than the epoxy base alone and has a working time of 
approximately one hour before it becomes too viscous to use.  The epoxy can then be applied 
liberally by brush directly onto the containment system where the leak is located.  During the 
twenty-four hour cure period, the containment system should not be filled. 

If a leak is larger, it may be patched using fiberglass cloth and epoxy.  In this case, prepare the 
epoxy as outlined previously, and cut a piece of fiberglass cloth large enough to cover the leak 
area.  Apply the epoxy to the containment system and lay the fiberglass over the epoxy.  A 
second layer of epoxy should be applied over the fiberglass.  The epoxy will still require twenty-
four hours to cure during which the containment system should not be filled. 

Massachusetts Institute of Technology 

17 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

6.3.3  Brace failure 
In the event that the braces suffer a catastrophic structural failure, consider the possibility that 
they may need to be redesigned and build new braces. 

If the braces fail to keep the toroids from realigning, build and insert new and or extra braces. 

6.3.4  Velcro failure 
In the event that the Velcro attaching the various components to the structure fails to adhere 
properly, first ensure that you are attempting to attach a male to a female piece of Velcro and not 
using two Velcro pieces of the same gender.  Second, ensure the Velcro pieces are clean as dirty 
Velcro pieces do not stick well. If the Velcro still will not adhere properly try replacing it with 
fresh Velcro. If some how Velcro just does not seem to be the solution get rid of the Velcro and 
use tape, the blue masking tape variety seems to work best. Finally, if you found it necessary to 
refer to the manual to troubleshoot a problem with the Velcro it is quite possible that the problem 
has nothing to do with the effectiveness of the Velcro. 

6.4  Air carriage (AS) 

6.4.1  Floatation problems 
Flotation problems are indicated by the resistance of one or more pucks to motion along the flat 
floor as induced by the actuators or by outside force.  There can be several causes for this, and 
therefore, several mitigations. 

6.4.2  Puck supply line leaks 
First, check the supply lines for leaks, especially around the fittings.  Typically, a leak may be 
fixed by removing the offending fitting, cleaning it of old Teflon tape, rewrapping it with Teflon 
tape, and reinstalling it.  Make sure when wrapping with Teflon tape that the tape is wrapped 
clockwise over the top of the fitting as the threaded end points towards you to prevent the tape 
from bunching up. 

If the leak still exists, try removing the tube from the fitting by pressing down on the black insert 
and gently pulling on the tube.  Next, snip off the end of the tube that is held by the fitting and 
insert the fresh end into the fitting. 

If there are still leaks present, the leaking fitting must be replaced.  The leaky fitting is unusable 
and should be disposed of. 

6.4.3  Tank fill level 
The tank may be empty.  Check for dry ice chunks in the tank by shaking the tank and listening 
for rattling from inside.  If there is ice inside, you must wait for the bottle to warm up and then 
empty the tank before refilling.  A standard empty tank weighs approximately 710g, while a 
modified tank with on/off valve weighs approximately (850g) when empty. 

Massachusetts Institute of Technology 

18 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

To refill tanks, chill tanks in the freezer (located in the SPHERES lab) overnight.  When cold, 
connect the bottle to the large siphon-fill CO2 tank in the SPHERES lab.  Open any on/off valve 
on the tank and screw the regulator completely down.  Open the relief valve on the large tank 
slowly to empty the small tank completely.  Close the relief valve firmly.  Set the small tank on 
the scale and tare it.  Then slowly open the fill valve on the large tank.  Fill the small tank to 
approximately 460g.  Be careful – the siphon tank fills quickly.  When full, close the fill valve 
firmly.  If there is an on/off valve on the tank, close it.  Unscrew the regulator until gas hisses out 
and a half turn past that point.  Slowly open the relief valve to vent the gas in the line.  After this 
is done, the tank may be disconnected and is ready for use.  The tank may be used at room 
temperature. 

If the air supply ended earlier than anticipated and dry ice was discovered inside the tank, make 
sure that the water bath is at a warmer temperature for the next test. 

6.4.4  Clean table/pucks 
The gap height upon which the vehicles float is very small, and any obstruction may cause 
interference to the flotation abilities of the carriage.  Make sure that the flat floor is clean.  
Vacuum the floor for large particles, then wipe clean with surface cleaner and a soft, lint-free 
cloth. 

Check the bottom surfaces of the pucks for dirt and scratches.  Remove the pucks from the 
carriage and clean with alcohol.  After cleaning, run the pad of your finger over the bottom 
surface of the puck.  If you can feel any bumps caused by burrs or gouges, the puck must be 
polished.  Take it to the emery boards in the 35-1xx machine shop for polishing.  Swipe the puck 
over the coarse board in a figure-eight pattern for about 30 seconds.  Repeat for the fine board. 
Check bottom surface with the pad of your finger and repeat if necessary.  Clean with alcohol to 
remove dust before reinstalling in the carriage. 

6.4.5  Tank O-ring rupture 
The o-ring around the very top of the tank’s valve is essential for providing sealed air supply to 
the carriage.  The o-ring must be visually inspected for tears or for excessive stretching.  
Replacement o-rings are stored with the air carriage supplies, and are available through paintball 
suppliers. (AS) 

6.4.6  Tank Overfill 
Tanks should not be overfilled.  If the fill mass exceeds 490g, some of the gas should be bled off 
using the pin valve actuator fitting in the SPHERES lab. 

6.4.7  Tank burst disk 
The tank valves are equipped with burst disks designed to blow and relieve the pressure inside 
the tank before it becomes dangerous to its surroundings.  In the event that the burst disk is 
required, the tank must not be used again until the burst disk is replaced.  Replacement burst 
disks are available through paintball suppliers. 

Massachusetts Institute of Technology 

19 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 	

Space Systems Product Development – Spring 2003 

6.4.8  Regulator inconsistency/freezing 
The diaphragm regulators in use on the vehicle are affected by temperature.  The tank must be in 
a water bath to stabilize the temperature change.  Be sure the regulator pressure is initially set 
sufficiently high so that a slight deviation will not cause the carriage to settle.  If the carriage 
settles because of insufficient pressure, the pressure must be manually reset to a high pressure 
adequate to push the system off the floor.  Such a manual adjustment could disturb a test in 
progress, so consult the operations team for appropriate action. 

7  Power, and Avionics Troubleshooting 
7.1  Power (TS) 

7.1.1  Power boards 
The power boards are used to control current to the electromagnets and the reaction wheel.  
Follow these steps if there seems to be a problem with supplying power to the vehicles. 

1.	 Disable Switch.  See if the disable switch is turned off.  If so, switch it on. 

2.	 Batteries.  Check to make sure the batteries are fresh.  Replace all old batteries with 
newly charged batteries.  It is good practice to replace all the batteries together, rather 
than mixing old batteries with fresh batteries. 

3.	 Wiring.  Make sure all the 12-gauge wires are hooked up properly to the batteries and the 
magnet or reaction wheel.  All the wires should be labeled properly, but refer to the 
schematics if there is further doubt. 

4.	

If there is a burning smell and/or smoke, check to make sure that none of the MOSFETS 
and heat sinks are bent over and touching each other.  This creates a short across the 
MOSFETS and causes the batteries to rapidly discharge and push over 100 amps through 
the board almost instantaneously.  If the MOSFETS did short together, carefully bend 
them back straight.  (Caution: bending them too much or too often may cause them to 
eventually break off).  After that, if they are still not working properly, the affected 
MOSFETS may need to be replaced. 

5.	 A burning smell and/or smoke may also be caused by an electrical short in the wires on 
the underside of the board.  Check to make sure none of the thick wires are touching each 
other.  Check to make sure all the solder joints are solid and that two wires that should be 
separate haven’t been accidentally joined together. 

6.	 Finally, the MOSFETS may burn out if the batteries are connected backwards.  Check to 
make sure the positive end of the batteries is attached to the correct positive power board 
wire.  (And likewise with the negative).  Hooking up the batteries backwards causes the 
current to run backwards through the MOSFETS, which eventually burns them out. 

Massachusetts Institute of Technology 

20	

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 	

Space Systems Product Development – Spring 2003 

7.	

If the problem does not seem to be with the MOSFETS or 12-gauge wiring, the problem 
may be in the circuitry.  First check for any bad solder connections on any of the circuitry 
components.  Each board has been tested before being used on the vehicle, so 
theoretically everything should be wired together correctly. 

8.	 One of the individual components of the circuitry may be burned out.  By breaking some 
of the connections, it should be possible to test each component individually to isolate 
which chip needs to be replaced.  Replacing chips is difficult and should be avoided 
unless absolutely necessary. 

9.	

It would also be a good idea to make sure the power board is connected to all the proper 
inputs: +5V, +12V, Ground, Input signal, and Disable switch. 

7.1.2  Voltage regulator boards 
The voltage regular boards provide +5V and +12V to all the electronics equipment onboard the 
vehicle, including the electromagnet and reaction wheel power boards.  Follow these steps if 
there seems to be a problem with the board. 

First check to make sure the batteries are fresh.  Replace all old batteries with newly charged 
batteries.  It is good practice to replace all the batteries together, rather than mixing old batteries 
with fresh batteries. 

Check for any bad solder connections on any of the components.  Each board has been tested 
before being used on the vehicle, so theoretically everything should be wired together correctly. 

One of the voltage regulators may be burned out.  It should be possible to test each regulator 
individually to isolate which one needs to be replaced.  Replacing voltage regulators is difficult 
and should be avoided unless absolutely necessary. 

7.1.3  Batteries 
The EMFFORCE vehicles use AA and D-cell rechargeable Nickel Metal Hydride (NiMH) 
batteries.  At the beginning of each test, all batteries should be replaced with freshly charged 
batteries.  The AA batteries are fully charged when the charger light turns to green.  For the D-
cells, the charger light turns green after 7 hours of charging, regardless of the status of the 
batteries.  Because of the unusually high capacity of the 9000 mAh D-cells, each battery may 
need up to 3 seven-hour charge cycles before it is fully charged. 

The batteries should be recharged when their voltage drops below 0.8V.  Draining them past this 
point may result in permanent damage to the batteries, although recent improvements in battery 
technology has helped to minimize the chances of damage due to this.  All the batteries should 
last through at least 500 charge/discharge cycles. 

When working with the D-cell batteries, special precaution should be taken while loading the 
batteries into their metal holders.  Because the holder is made of steel, it is easy to create an 
electrical short which will cause sparking and the batteries to heat up.  It is not a serious problem 

Massachusetts Institute of Technology 

21	

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

if this occurs (no permanent damage should be incurred); however, caution should be used when 
handling the batteries.  Also, because the optical table has a metal surface, it is also possible to 
create an electrical short if the battery holders are placed directly on the table.  To prevent this, 
try to keep the batteries and holders on the glass at all times. 

7.2  DR2000 Communications boards (JEU) 

A RFM DR2000 transceiver board is shown below. (the antenna shown is not the same
 as the one used by the EMFFORCE system): 

This section is devoted to addressing the trouble shooting issues that have come up during the 
development of the EMFFORCE system.  For a schematic of the DR2000 board, please refer to 
the RFM DR2000 Manual included on the EMFFORCE CD. 

7.2.1  Should the DR2000 LEDs flash like that? 

It depends.  The LEDs flash differently under different circumstances.   Figure 7-2 depicts the 
board layout of the DR2000.  LED’s 1, 2 and 3 can be found near the top of the schematic. 

Massachusetts Institute of Technology 

22 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

Here is a simple algorithm for determining the state of the communications system based on the 
behavior of the LEDs: 

if  ((LED 1 = Green Flashing ~ 0.5 Hz) & (LED 2 = off) & (LED 3 = off)) 
Then “System Standing By”; 

else if ((LED 1 =  Red Flashing ~ 0.5 Hz) & (LED 2 = off) & (LED 3 = off)) 
Then “Range Test is ON” or “Board is transmitting”; 

else if ((LED 1 = Green Flashing ~ 0.5 Hz) & (LED 2 = on) & (LED 3 = Green)) 
Then “Board received good data”; 

else if ((LED 1 = Green Flashing ~ 0.5 Hz) & (LED 2 = on) & (LED 3 = Red))   
Then “Board received bad data”; 

else if ((LED 1 = Green or Red Flashing ~ 0.2 Hz) & (LED 2 = off) & (LED 3 = off)) 
Then “Command Error”; 

Note: The indicator for “good data” occurs when FC1 agrees with FC2 (please refer to Error 
Detection and Correction Routines for a brief discussion of FC’s).  The indicator for “bad data” 
occurs when FC1 and FC2 do not agree. 

7.2.2  I keep receiving bad packets. What could be going wrong? 

Massachusetts Institute of Technology 

23 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 	

Space Systems Product Development – Spring 2003 

Several things could be happening.  Here is a checklist for   diagnosing the problem: 

1.	

Is your power source low? 

If the DR2000 does not receive enough voltage, it may read the packets incorrectly or not at all.  
This effect was found to occur when the batteries were nearly dead. The exact location of this 
effect on the power curve has not yet been determined. 

2.	

Is the antenna connected properly? 

If the antenna does not touch the proper lead on the DR2000 or if there is a short in the 
connection, the DR2000 may respond by declaring a bad packet. 

3.	

Is the proper Packet Size stored in the DR2000 flash memory? 

If a change has been made in the packet structure, but the change has not been reflected in the 
DR2000 flash memory, the DR2000 may not interpret the incoming bytes correctly. 

4.	

Is the proper From Address stored in the DR2000 flash memory? 

If a DR2000 thinks it is connected to Vehicle 1, but it is connected to Vehicle 2, then a bad 
packet message could occur if Vehicle 2 attempts to transmit as Vehicle 2. 

5.	

Is the proper To Address stored in the DR2000 flash memory? 

Setting the To Address to broadcast (‘0x00’) should not result in a bad packet.  

However, if the receiving DR2000 thinks it is Vehicle 1 and the transmitting DR2000 is 
attempting to transmit to Vehicle 2 only (i.e., it is no longer broadcasting), then the receiving 
DR2000 may display a bad packet.  Of course, if you have a network of nodes, and you are 
transmitting to one in particular, all of the other nodes will flash as though they have received 
bad packets. In this case, it means that the packet wasn’t meant for them. 

6.	 Are there any external noise sources operating near the frequency range used by the 
DR2000s? 

Other devices operating near the DR2000 frequency range may interfere with the packet 
transmission and result in a bad packet via packet collision. 

7.	

Is the packet number at least one count different between packets (e.g., the packet 

numbers increment and repeat like: 1 2 1 2 or 1 2 3 4 5)? 


If the packet number is not at least one count different between the packets, then the ARQ 
(Automatic Repeat Request) function cannot work.  This may potentially result in a bad packet 
signal. 

Massachusetts Institute of Technology 

24	

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

8.  Is the proper data length used in the software? 

The data length used in the software should be: 

Number of data bytes + 5 (in HEX) 

9.  Is the RS232 baud rate at 115200? 

The communications board integrates with the RS232 serial line at a baud rate of 115200.  To 
ensure against lost packets, packet collisions, etc, it is necessary to set the RS232 baud rate to 
115200. 

10. Is there a small delay between the transmission of each byte? 

Without a small delay between the transmission of each byte, there are errors with the DR2000 
buffer.  When the buffer overflows, bytes are lost and the receiving DR2000 correctly interprets 
this as a bad packet. 

7.2.3  We’ve changed the packet size and it doesn’t work.  Why not? 
You’ve probably forgotten to propagate the changes to the packet size through the system.  
Every communications board needs to have the Packet Size value adjusted (in HEX) and the 
software needs to have the length value updated (number of data bytes + 5 in HEX).  Also, the 
value for the packet size in the GUI will need to be updated. 

7.2.4  We reset the DR2000s, but now we’re getting bad packets. What 
happened? 
If you have made any changes to the DR2000’s via any of the DR2000 commands that do NOT 
store their values to the flash memory, you will need to redo the commands every time you reset. 

7.3  Wiring (JEU) 

7.3.1  How do we connect the TT8 to the DR2000? 

In order to construct a replacement RS232 cable, you should use a QSPI serial device to connect 
to the DR2000 and a serial plug for the TT8.  You will also need to find wiring and solder as 
necessary (depending on the connection device).  

Table 7-1 describes the wiring assignments for the RS232.  This information will be useful as a 
reference. 

Table 7-1: Table of RS232 Connector Wiring Assignments (courtesy of the RFM DR2000 Manual)) 

Massachusetts Institute of Technology 

25 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

7.3.2  Serial Plug 
There are only three connections that we’re interested in: Ground, TX (transmit) and RX 
(receive).  To connect to the serial plug for the TT8, please refer to Figure 7-3.  If you’re using a 
spare DB-9 Serial Cable to make the connection, you will want to find the wires corresponding 
to Pin 3, Pin 4 and Pin 5. 

However, if you are using a standard serial plug (not a cable), then you will want to use the 
schematic in Figure 7-4 to determine where to connect the wires.   

Massachusetts Institute of Technology 

26 

Dept of Aeronautics and Astronautics 

EMFFORCE OPS MANUAL 

Space Systems Product Development – Spring 2003 

Figure 7-4: Schematic of Serial Plug 

The Function Assignment Table (see Table 7-7-2) provides a reference for the color scheme used 
in the current RS232 cabling implementation in addition to correlating the function (TX, RX, 
Ground) and the assignment number (1, 2 or 3).  

Table 7-7-2: Function Assignment Table 
Function  Assignment  Our Wire Color 
White 
1 
Transmit 
Black 
2 
Receive 
Ground 
3 
Green 

7.3.3  QSPI Connector 

The QSPI port on the DR2000 is circled in Figure 7-5.  The RS232 connector (also known as a 
QSPI or Queued Serial Peripheral Interface) plugs into the QSPI serial port.  A schematic of the 
connector is also shown in Figure 7-5 for reference when connecting the wires. 

Massachusetts Institute of Technology 

27 

Dept of Aeronautics and Astronautics 


Non-Advocate Review 

October 3, 2002
Space System Product Development Class
Department of Aeronautics & Astronautics, MIT
Electro Magnetic Formation Flight Of Rotating Clustered Entities

<GG>

Welcome to the Non-Advocate Review for project EMFFORCE (Electro Magnetic 
Formation Flight of Rotating Clustered Entities).

1

Introduction

Amilio Aviles

<GG>

<NAME> will be giving an introduction for the presentation.  She will address the 
mission statement as well as background and motivation for the project, provide a 
brief requirements summary, and then give an overview for the rest of the 
presentation.

2

EMFFORCE
EMFFORCE

Space System Product 
Development Class

Systems
Oscar Murillo
Stephanie Slowik
Melanie Woo

Actuation
Jesus Bolivar
William Fournier
Lindsey Wolf
Melanie Woo

Electronics
Stephanie Slowik
Erik Stockham
Maggie Sullivan
Jennifer Underwood

Formation Flight
Amilio Aviles
André Bosch
Oscar Murillo
Leah Soffer

Structure/Power
Geeta Gupta
Amy Schonsheck
Timothy Sutherland

CDIO3 Class Project

3

<GG>

After the Trade Analysis and Requirements Review in March, 2002, the Space System Product Development Class split itself 
into four groups before embarking on the design process.  These groups, as listed above, were further split into smaller teams 
responsible for the following; (actuation) electromagnet, reaction wheel, (formation flight) metrology, control, (electronics) 
avionics, communications, (structure/power) structure, and power design.  The three-member systems group is comprised of 
one member from three of the four groups at any given time.  The members of this group are on a seven and a half week 
rotation.  The governing team, therefore always has two experienced members.  All groups also have a liaison to the rest of the 
class and sub-system groups.  This sub-system/systems group structure will remain for the rest of the EMFFORCE project.

3

EMFFORCE
EMFFORCE

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

NAR Purpose

Review progress to date
To review the methodology for 
completing the design and 
operation of the EMFFORCE 
test-bed
To gain insightful feedback from 
those more experienced

CDIO3 Class Project

4

<GG>

The purpose of the NAR presentation is

4

EMFFORCE
EMFFORCE

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

Advantages of 
Formation Flight 

Large baselines to improve angular 
resolution
Smaller vehicles
(cid:122) Ease of packaging, launch and deployment
Redundancy
(cid:122) Mission does not fail if one satellite fails
Reconfigurable
(cid:122) Replace individual space craft
(cid:122) Can integrate new technology during mission
(cid:122) Staged deployment

CDIO3 Class Project

5

<GG>

Advantages of formation flight include higher resolution with smaller vehicles.  To 
achieve similar resolution would be much more costly with one large vehicle rather 
than with more than one formation flight vehicles.  The smaller vehicles also prove 
easier to pack launch and deploy.  Not only do formation flight satellites allow for 
failure, continuing the mission with few satellites when one breaks down; these 
systems also allow for new technologies to be integrated in to occurring missions.

5

EMFFORCE
EMFFORCE

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

Challenges of 
Formation Flight

Command and Control
(cid:122) Control multiple vehicles’ position
(cid:122) Control position relative to other vehicles
Propellant Drawbacks
(cid:122) Fuel limits lifetime
(cid:122) Exhaust particulates contaminate 
imaging instruments
(cid:122) Exhaust creates haze which limits 
imaging

CDIO3 Class Project

6

<GG>

In current formation flight done with thrusters, the propulsion system actuates each vehicle with inertial degrees of freedom, 
however for formation flying satellites, in order to remain in formation the satellites should also be able to actuate their relative 
position/motion to other satellites.

There are also many drawbacks to the use of propellants.  Not only does the amount of fuel limit the lifetime of the mission, 
but exhaust particles can contaminate and damage imaging equipment (contact contamination) as well as create a haze of 
pollution that the telescope must look through (radiative contamination).

6

EMFFORCE
EMFFORCE

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

Definition of 
Electromagnetic Control

Implement electromagnetic dipoles to 
create forces and torques between the 
vehicles
Dipoles can be controlled by varying the 
amount of current through the 
electromagnet coil.
(cid:122) Can provide steady forces and torques for 
maneuverability
(cid:122) Can provide disturbance rejection for more 
precise control

CDIO3 Class Project

7

<GG>

Electromagnets will create dipoles that will provide the “thrusting” forces and 
torques between vehicles.  The strength of dipoles can be controlled by varying the 
amount of current through the electromagnet coil.  Control of the dipole strength as 
well as direction (rotation of magnet) can provide large forces for maneuvering as 
well as small disturbance rejection for more precise control. 

7

EMFFORCE
EMFFORCE

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

Advantages of EMFF
No thrusters
(cid:122) Fewer consumables (cid:198) Longer life
(cid:122) Zero pollution (cid:198) No contact 
contamination to imaging 
equipment 
(cid:122) No pollution haze (cid:198) No radiative 
contamination to imaging 
equipment
Control of relative position

CDIO3 Class Project

8

<GG>

In order to overcome the challenges of formation flight as described before, the MIT Space Systems Laboratory (SSL) has 
begun the investigation of elector-magnetic formation flight.

Thrusters and their propellants impose many of the undesirable aspects of current formation flight.  EMFF, because it does not 
use propellants, will not have a lifetime limited by the amount of fuel on board, nor will contact contamination or radiative 
contamination be a problem.    Since formation flight requires precise relative control EMFF leads to better control because 
EMFF controls the relative position instead of the absolute position.

8

EMFFORCE
EMFFORCE

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

Challenges of EMFF

Control Problem
(cid:122) Unstable – not unique to EMFF
(cid:122) Coupled control
(cid:122) Each vehicles’ motion affects all other vehicles
Electromagnet Drawbacks
(cid:122) Ferromagnetic material is heavy
(cid:122) Electromagnetic force is weak
(cid:122) Force in the far-field drops of as the 4th power 
of separation distance
Electromagnetic interference with other 
electronic subsystems

CDIO3 Class Project

9

<GG>

One of the current challenges faced with EMFF is the control problem.  Due to the rotation of formation flight systems the 
control problem becomes unstable and complex.  Although this is not unique to EMFF, when paired with the coupled control 
problem of relative motion the control system of EMFF becomes increasingly complex. 

There are also many drawbacks to the electro-magnet itself.  The magnetic material is very heavy, and the magnetic force is 
weak.  The force drops off as the 4th power of the separation distance in the far-field.  The electro-magnet also potentially 
interferes with other subsystems on board the system.

9

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

EMFFORCE
EMFFORCE
Customer Requirements
Three vehicles
Representative Formation Flying 
Vehicles
Control to replace thrusters
Control four DOF
Robust controller
(cid:122) Disturbance rejection
(cid:122) Reposition vehicles

Subsystems
Integration
Budgets 
Conclusion

CDIO3 Class Project

10

LS

The Customer Requirements are derived from the Executive Summary EMFF Proposal by MIT SSL, and the Technical-
Management Proposal by MIT SSL and Lockheed-Martin ATC.  This project must show representative formation flying 
maneuvers to demonstrate the feasibility of using electromagnetic control for actual space missions.  More specifically, this 
includes showing dynamically changing formation geometries and replacing failed formation elements.  Because this project is 
to demonstrate an alternative to thruster control, no thrusters may be used.  The vehicles must control in four degrees of 
freedom.  Finally, the controller must counteract any disturbance force, be able to reposition satellites within the formation, 
and generate restoring forces necessary to maintain stability.

10

EMFFORCE
EMFFORCE

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

Constraints

Schedule
Budget
Human resources
Testing facility
Self-contained
Recorded test data
Safety

CDIO3 Class Project

11

LS
•The system must be designed, built, and tested by May 2003.
•There is a financial cap of $50,000.
•The team responsible for this project includes the MIT CDIO-3 students and staff.
•The system must operate in available test spaces.  The preliminary test facility shall be a flat-floor area at MIT, 
less than 10 sq. ft.  The culminating system tests shall be at the Lockheed flat-floor facility in Denver, CO. 
which means the system must be transportable, able to maneuver freely on the flat floor, and within the floor 
dimensions of 20ft by 30 ft.
•As a self contained vehicle, it cannot have any external umbilical during testing for power, gas, or 
communication. The test duration shall be limited by on-board resources.
•Test must be documented and data recorded for offline analysis and validation of customer requirements.
•Safety must be preserved at all levels of work throughout the project timeline.  This includes safety of the 
people, the system, and the test facility.

11

EMFFORCE
EMFFORCE

System Functional 
Requirements

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

Musts:
(cid:122) Stability with at least three vehicles
(cid:122) Control in each relative DOF
Shoulds:
(cid:122) Representative 5 rotation maneuver
(cid:122) One rotation spin-up, 3 rotations steady state, 
and one rotation spin-down
(cid:122) Operate in the far field

CDIO3 Class Project

12

LS

•The system must demonstrate stable maneuverability using at least three vehicles.  This will facilitate translation to more 
vehicles.  Control each relative system degree of freedom implies the system must be demonstrated in 2 dimensions with 
identifiable transition to 3 dimensions.  Also, it cannot control absolute motion of center of mass.
• The system should complete a representative five-rotation system maneuver.  This maneuver will include one rotation for 
spin-up from rest to a separation distance of at least 2 meters.  Then, it will complete three rotations at a constant angular rate 
of 6 degrees of arc per second for a 2 meter separation distance.  This comes from a desired angular rotation rate of 1 rpm.  
Finally, it will have one rotation to de-spin to rest. The system should operate in the far field of EM control, which currently 
implies a separation distance of at least 10 times electromagnet length. 

12

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

EMFFORCE System Operational 
EMFFORCE
Requirements
Test time of at least 5 minutes
No use of umbilical resources
Identical interchangeable vehicles
Send/record test data
Respond to other satellites
Respond to user input
Demonstrate autonomy
Maintain safety

Subsystems
Integration
Budgets 
Conclusion

CDIO3 Class Project

13

LS

•The system shall operate without needing recharged batteries or gas resupply for a period of time useful to perform several 
tests.   
•Operate with no external umbilicals means the power supply must be on-board, wireless communication must be used, and all 
other resources (such as gas supply) must be self-contained.
•Each vehicle must be identical to the others in the system.  This allows mission flexibility in that each vehicle can perform 
any task.  Also, the vehicles must be able to be replaced.  Identical vehicles allows for easy replacement, as well as cost 
efficiency through standardized parts. 
•Each vehicle shall record flight data including position and health.  The data will be sent to a ground station for inflight 
analysis, as well as recorded for later download and analysis. 
•The system shall respond to other satellites in formation in real time at a distance of at least 2 meters to demonstrate far field, 
but no greater than 8 meters due to size of testing facility. 
•The system shall respond to user input from a ground station within 0.1 seconds.
•The system shall demonstrate a basic level of autonomy. The system will receive user input from a ground station but must 
then executed the maneuver without further user input.  It must maintain stability, reject disturbances, and reposition the 
vehicles without additional user input.
•The system must not be damaged during testing, nor damage the testing facility.

13

EMFFORCE EMFFORCE Mission 
EMFFORCE
Statement

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

<GG>

Demonstrate the feasibility of 
electromagnetic control for 
formation flying satellites.

CDIO3 Class Project

14

The mission statement as stated above implies that Project EMFFORCE aims to 
operate a formation flying testbed which represents real world applications.  
Therefore a 2-D operational testbed must be translatable to a 3-D operational 
testbed.  Electromagnetic control implies the design and implementation of a 
controller using no thrusters but instead coupled electromagnetic forces as well as 
angular momentum storage.

14

EMFFORCE
EMFFORCE

Introduction
•Background
•Requirements 
Summary
•Mission
•Approach

Subsystems
Integration
Budgets 
Conclusion

EMFFORCE Testbed 
Development Approach

Design complete & Preliminary 
Implementation of testbed (cid:198) CDR 
Nov. 21, 2002
Operate completed testbed (cid:198) AR 
March, 2003
(cid:122) Operate at MIT
(cid:122) Operate at Lockheed Flat Floor Facility in 
Denver

CDIO3 Class Project

15

<GG>

To complete the implementation and the operation of the test bed, the design class 
hopes to follow the above approach.  Today Project EMFFORCE presents a Non 
Advocate Review of their progress thus far.  In November 2002 they hope to have 
built a prototype and will present their Critical Design Review, and after the 
Acceptance Review in March 2003, the class will operate the accepted test bed at 
the Lockheed Flat Floor Facility in Denver, Colorado.

15

Electromagnet

Lindsey Wolf

<JEU>
Welcome to the Actuation Subsystem section of the NAR presentation.  Lindsey 
Wolf will present.

16

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Reaction Wheel
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

EM Overview

Circular-shaped coreless coil
(cid:122) Super conducting wire 
(cid:122) 100 wraps
(cid:122) Radius of 0.375m
Coil wrapped with alternating layers of wire 
and insulation

0.375m

0.03m

Coil

CDIO3 Class Project

17

<JAB, MSW, LLW>

The geometry of the coreless electromagnets is shown above.  Because two magnets will be placed perpendicular to each other 
with their centers about the same point, the radii of both coils cannot be the same.  One coil will have a radius of 0.375m, 
while the other will have a radius of 0.345m (the maximum allowable radius to fit inside the larger coil).

The super conducting wire does not come already insulated.  Therefore, insulation must be provided so the magnet doesn’t 
short circuit.  Insulation for the wire will be provided by thin layers of Kapton between each wrap of super conducting wire.

17

EMFFORCE
EMFFORCE

EM Overview

Introduction
Subsystems
•Actuation
•Electromagnet
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Reaction Wheel
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets
Conclusion

100A current supplied to coil
Coil needs to be kept at 70K 
(cid:122) Surround by liquid nitrogen at all times
Toroid-shaped casing
(cid:122) Structural component
(cid:122) Insulation for coil

.004mm

0.0003m

0.001 m

.005mm

Wire Cross-section

Insulatation Cross-section

Case Cross-section

CDIO3 Class Project

18

<JAB, MSW, LLW>

The super conducting wire is capable of handling large currents. 100 Amps is the 
amount of current required produce the force necessary to keep the vehicles 
spinning in steady-state, at 2 rpm.   

To keep the coil at an operable temperature, it must be continuously cooled.  The 
magnet casing essentially provides a constant liquid nitrogen bath for the magnet.  
The magnet casing is also the method by which the magnets are attached to the 
structural frame of the vehicles.

18

EMFFORCE
EMFFORCE

Requirements

Introduction
Subsystems
•Actuation
•Electromagnet
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Reaction Wheel
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Electromagnets must provide force 
and torque 
(cid:122) Translational movement
(cid:122) Disturbance rejection
(cid:122) Force such that the system’s rotation rate 
is 1 rpm
Electromagnet casing
(cid:122) Rated to be pressurized at 100 psi and 
contain liquid nitrogen at 70K
(cid:122) Provide structural rigidity for the vehicle
(cid:122) Lightweight, non-ferromagnetic

CDIO3 Class Project

19

<MSW, JAB>

The electromagnet should provide force and torque for disturbance rejection as well 
as translational movement such that the system can maintain a rotation rate of 1 
rotation per minute.

Since the electromagnet coils will be made of superconducting material that will 
only superconduct below 77K, the superconductor must have a cooling system.  The 
electromagnet casing must be designed to encase the superconducting coils in liquid 
nitrogen (70K) at 100psi.  Additionally, the casing must provide structural rigidity 
for other subsystems to mount to.  It should be designed to minimize mass and also 
must be non-ferromagnetic so as not to interfere with the field created by the 
superconducting coils.

19

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Reaction Wheel
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Risks

Super conducting coil
(cid:122) Coil insulation and wrapping
(cid:122) Large current requirement:  power 
interface
(cid:122) Dependent upon cooling system
Coil casing
(cid:122) Must contain liquid nitrogen at 100 psi 
and be designed to ensure proper 
cooling for entire coil
(cid:122) Provide structural support for other 
vehicle subsystems

CDIO3 Class Project

20

<MSW, JAB>

Using superconductor material for the electromagnet poses several risks:

The superconductor does not come from the manufacturer with insulation.  The EM Team has tested Kapton as an insulator 
with the test sample of superconductor, and it currently seems like the most viable option.  The specific type of Kapton as well
as adhesive options for Kapton needs to be investigated to determine what will be used for the final design.  Additionally, the 
EM Team needs to consider how it will safely and efficiently wrap the coils.  The superconducting material cannot be bent 
beyond a turn diameter of 100 mm and must be handled carefully.  The method of wrapping (i.e. using a spindle, by hand, etc.) 
as well as the configuration (single stack, multiple stacks) must be considered.  Since the superconductor can handle and will 
be designed to run high levels of current, the EM Team must carefully discuss interfacing with the Power Team to ensure that 
the current requirement can be met safely.

The casing must be designed such that the coil can be kept below 77K or else there will be resistance within the wire (no 
longer superconducting).  The casing should be designed to enclose the coil in liquid nitrogen at 100psi and should allow for 
the liquid nitrogen to cover a large enough surface area of the coil to ensure proper cooling.  Since the coil casing may be used 
as the vehicle structure, it must provide structural support for the mounting of other vehicle subsystems while meeting 
requirements.

20

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Reaction Wheel
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Tasks

Test superconducting material
(cid:122) Superconductivity, field strength, 
model verification
Build, test, and modify full-scale coil
Build, test, and modify casing
Build remaining coils for the system
(cid:122) 2 coils per vehicle, 6 total
Integration with Power and Structures

CDIO3 Class Project

21

<MSW, JAB>

The tasks for the EM team include:

1.

2.

3.

4.

5.

Testing the superconducting material to see that it behaves as a superconductor with zero resistance in the liquid nitrogen 
bath.  Additionally, current must be run through the coil to provide data for field strength to verify models for the coils.  
**Note:  This experimentation has already been conducted; the superconductor had zero resistance in the liquid nitrogen 
bath, and the field strength measurements corresponded to our model.

After testing the sample material, the EM team will build one full-scale coil to test wrapping techniques, configuration, 
and field strength.  If necessary, modifications will be made and tested.

The casing for the superconducting coil will be built and tested then integrated with the full-scale coil.  Modification and 
testing will be conducted.

The remaining coils and casing will be built based on the first coil.  Currently, each vehicle will contain 2 coils for a total 
of 6 coils.  Since the first coil has already been built, only 5 additional coils need to be built, encased, and tested.

The coils will be integrated with the power team to provide the current for the coils.  The casing will be used as the 
vehicle structure.

21

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Reaction Wheel
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Scheduling
TASK
Test superconductor material, determine sizing for coil
Build and test 1 full-scale coil
Build and test electromagnet casing
Order superconductor for system (5 additional coils)
Build and test casing for additional coils
Build and test system coils
Coil, casing integration
Power integration
Structures integration
System testing, integration, modification
Preparation for field testing
Field Testing 1
Modification
Field Testing 2

END
8OCT
17OCT
24OCT
17OCT
7NOV
7NOV
14NOV
21NOV
13DEC
13MAR
31MAR
3APR
21APR
24APR

START
26SEP
10OCT
10OCT
17OCT
24OCT
24OCT
7NOV
14NOV
21NOV
4FEB
13MAR
31MAR
3APR
21APR

CDIO3 Class Project

22

<JAB, MSW, LLW>

This table tracks the work schedule of the EM team from the present to the 
projected end of the project.

The first priority is to make a full-scale coil using the super conducting wire.  The 
testing of the first full-scale coil will be conducted in a liquid nitrogen bath, as the 
casing for the magnet will not yet be made.  

The schedule plans to have the EM system ready for integration with other systems 
by CDR on November 21.

22

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Reaction Wheel
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

<JAB, MSW, LLW>

EM Budgets
Cost 
Qty
Mass 
(kg)
($)
5860
4.6

2

2

400

2

6260

6.6

Part

Super 
Conducting Wire
Coil support and 
N2 container
Total (per 
vehicle)

Power
(W / V)
N/A

N/A

N/A

Misc.
Total (per 
system)

6

18780

19.8

N/A

CDIO3 Class Project

23

Cost, mass, and power budgets are given in the table above.  Each vehicle has two 
super conducting wire coils at a cost of $2930 and 2.3 kg each.  Each coil requires 
its own casing at a cost of $200 and 1 kg each.  These components give the total 
system budget values given above.

23

Reaction Wheel

<JEU>
Welcome to the Actuation Subsystem section of the NAR presentation.  Lindsey 
Wolf will present.

24

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Reaction Wheel
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

RW Overview

RWA components
(cid:122) Fly-wheel – stores H
(cid:122) Motor – provides τ
Design driving variables
(cid:122) Angular momentum (H)
(cid:122) Torque (τ)
(cid:122) Fly-wheel material

CDIO3 Class Project

25

<WDF, LLW>

The Reaction Wheel Assembly consists of two major components. First, a fly-wheel which will be spun to serve 
as an angular momentum storage device. Second, the assembly has a motor which spins the fly-wheel and also 
provides the torque on each individual vehicle necessary to control the vehicles angular position.

There are two main design-driving variables:  angular momentum and torque.  Angular momentum stored in the 
fly-wheel must balance the angular momentum present in the system due to the spin-up of the electromagnets.  
The motor must provide the required torque to balance the moments induced by the electromagnets.  The 
amount of torque required by the motor increases as the magnets move closer together.

A third variable that drives design is the fly-wheel material.  Throughout the design process a range of different 
materials have been considered for this purpose, each with its own advantages.

25

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Reaction Wheel
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

<WDF>

Requirements
Must be a controllable assembly
(cid:122) Stores angular momentum 
(cid:122) Uses angular momentum to 
change angular position of each 
vehicle
Must provide disturbance 
rejection
(cid:122) Holds each vehicle at a specified 
angular orientation

CDIO3 Class Project

26

Requirements expanded from requirements 7.3.1.1.2 and 7.3.1.5 in version 5.1 of 
requirements document.

7.3.1.1.2 

Angle tolerance based on angular rotation rate.

7.3.1.5 
thrusters. 

A method of angular momentum storage other than traditional 

26

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Reaction Wheel
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Risks

Torque Requirements
(cid:122) High at close proximity
(cid:122) Turn down coil at close proximity
Material Concerns
(cid:122) Conductive Materials 
(cid:122) Eddy currents
(cid:122) Non-conductive materials
(cid:122) Tensile Strength
(cid:122) Density
(cid:122) Cost
(cid:122) Manufacturability

CDIO3 Class Project

27

<WDF, LLW>

Due to mass and size restrictions it is not possible to use a motor capable of handling all possible torque scenarios. When both
coils are extremely close (separation 0.02m), turned on at full power (100 Amps), and at right angles to each other, the torque 
that the motor would need to generate is in excess of 6Nm. However, for all of the scenarios in which the system is intended to 
be tested the torque requirements are far more reasonable and the reaction wheel motor will be designed to handle these more 
reasonable loads.  The approximation for required torque at 1m separation is 0.8Nm.

It has been determined that eddy currents will be induced in any conductive material placed within the magnetic coils.  The 
presence of these eddy currents will stop the relative rotation of the fly-wheel, similar to a “viscous effect.”  Due to this 
constraint, the original material choice – aluminum – cannot be used.  Investigation into other material options is being done.  
Currently, the most promising option appears to be high-density urethane material.

Preliminary concerns were raised about using non-conductive materials. These included a lack of tensile strength (needed for 
high reaction wheel rotation rates), low densities (a minimum mass is needed to provide the necessary angular momentum 
storage), and cost or manufacturability since many non-conductive materials would have to be custom ordered and could not 
be machined on campus. Research into high-density urethanes and plastics have eased some of these concerns. For the current 
estimates of the vehicle size and mass these materials  do have the necessary strength and material properties. Also certain 
manufacturers have been found which can provide custom wheels at very reasonable costs. 

27

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Reaction Wheel
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Tasks

Develop model of RWA 
(cid:122) Torque calculations in all modes 
(cid:122) Angular momentum calculations
(cid:122) Tensile stress calculations
Determine Material
Design RWA
Manufacture RWA
Balance and test RWA
Integrate RWA

CDIO3 Class Project

28

<WDF, LLW>

A model for the design of the RW must be finalized.  This model incorporates calculations that consider:  balance of angular 
momentum, balance of torques, tensile stress on the RW.  The model will take total system mass and vehicle moment of inertia 
as inputs and provide mass and size for the RW.  A preliminary model is complete at this time.  However, the RW team awaits 
the final values for system mass and vehicle moment of inertia before the RW design can be finalized.

Material selection must be completed.  Current material possibilities include a variety of plastics and composites.

RW design will be completed in CAD.  Design follows directly from model described above.

RW will be professionally machined, but balanced and tested in lab facilities at MIT.  Testing includes defining a series of test 
protocol to ensure that the RW will function properly in both the spin-up and steady-state modes.   

The first step of integration is within the RWA – the motor and the wheel.  Next, the RWA will be integrated with the Power 
and EM groups, and finally the Structure group will assemble the entire system.

28

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Reaction Wheel
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

START
17SEP

26SEP

8OCT

17OCT
14NOV

Scheduling
END
TASK
26SEP
Develop Reaction Wheel 
Model
Assist EM Team
Finalize vehicle variables
Design Reaction Wheel
Order components
Assist EM Team
Balance Test RWA begin 
integration with Power

14NOV
21NOV

8OCT

17 OCT

CDIO3 Class Project

29

<WDF>

The reaction wheel assembly must be complete, tested, and integrated with the power sub-system by Nov. 21, 2002. The RW 
Team will need one week from the arrival of the reaction wheels to integrate with the motor assembly, balance the wheels and 
perform validation tests on the wheels. Since the reaction wheels have a lead time of 4 weeks the order must be placed no later 
than Oct. 17, 2002. While the wheels are being manufactured the RW Team will assist the EM Team in the design and 
construction of the electro-magnet and cooling system. 

In order to complete the reaction wheel assembly design and place an order by Oct. 17, 2002, the RW team will need final 
values for the mass of the vehicle and moment of inertia of the vehicle by Oct. 8, 2002. This requirement should be noted by 
other sub-systems. 

Until the vehicle parameters are finalized, the RW Team will assist the EM Team in the design of the electro-magnets.

29

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Electromagnet
•Reaction Wheel
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Formation Control
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

RW Budgets
Cost 
Power
Qty
Mass 
(kg)
(W / V)
($)
800
(0-200) / (0-40)
1.5
N/A
100
1
N/A
900
2.5

1
1

Part

RW Motor
RW
Total (per 
vehicle)

Misc.
Total (per 
system)

3

2700

7.5

N/A

CDIO3 Class Project

30

<WDF, LLW>

The current numbers are accurate estimates of the reaction wheel assembly. Specific motor selection and 
reaction wheel material selection are not yet complete, and will be completed as noted on the schedule. 
However, these estimates will not vary significantly from the actual costs and mass of the sub-system.

The power budgets are given in a range because the current motor choice is capable of operating with varying 
levels of voltage.  Thus, using a current of 5A, a wide range of power requirements emerges.

30

Control

Erik Stockham

<BAB, LS>
Welcome to the Control Subsystem section of the NAR presentation.  Erik 
Stockham will present on behalf of Leah Soffer and Andre’ Bosch.

31

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Metrology
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Subsystem Overview

Preprogrammed 
Trajectory

+
-

Controller

Plant

Actual 
Trajectory

Metrology 
Algorithm

Sensors

Control is used to follow trajectories 
and reject disturbances
Send commands to actuators to 
control both modes: spin-up/spin-
down and steady state

CDIO3 Class Project

32

<LS>

The control subsystem sends commands to the actuators in order to maneuver the vehicles.  The actuators that are 
commanded are the reaction wheels and the electromagnets, controlling torque and force.  The commands are sent in the 
form of an output voltage. 

The tasks of the control team are to follow predetermined trajectories and reject disturbances.  To do this, the controller 
will use metrology sensor data as feedback.

In this mission, there are two modes that must be controlled:  spin-up/de-spin and steady state.  In spin-up, the vehicles are 
taken from rest and accelerated until they reach the desired rotation rate in steady state mode.  De-spin is similar to spin-up, 
but brings the vehicles from steady state rotation to rest through deceleration.  These modes are further described in the 
next slide.

32

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Metrology
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Control Dynamics

Steady state
Spin-up
Model system and use state space to 
design controller
Utilize optimization techniques

CDIO3 Class Project

33

<LS>

In steady state, the electromagnets of all three vehicles are aligned.  The forces acting on the system are centripetal and 
electromagnetic forces.  Through force balance equations, the system can be modeled in state space form.  By assigning 
value to the electromagnet actuators versus the reaction wheels, an optimal controller can be built.

In spin-up, the three dipoles begin aligned with adjacent dipoles perpendicular to each other.  When the electromagnets are 
turned on, the forces cause the vehicles to torque and move.  A controller will be built that determines the required torques 
and forces to follow the shown path until the electromagnets are aligned in parallel.

33

EMFFORCE
EMFFORCE

Implementation method
Reference 
point B

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Metrology
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Reference 
point A

ABθ

ABr

A

ACθ

ACr

Aα&
Each vehicle receives position and rate 
information from the other vehicles 
Each vehicle has an identical controller 
and should compute the same 
commands as the other vehicles based 
on identical inputs

B

Bα&

Reference 
point C
C

Cα&

CDIO3 Class Project

34

<LS>

Each vehicle will determine its separation distance to the other vehicles (rAB and rAC).  Also, they will determine the angle 
to the other vehicles from some reference point on the body of the vehicle.  (θAB and θAC).  The vehicle will also know its 
inertial rotation rate alpha dot from rate gyros.  These five pieces of information will be sent to the other two vehicles and 
the ground station.  Then each vehicle will have the same three sets of data.  This information will be resolved in a 
coordinate system fixed on one body (the designated hub) and the control will be calculated by each vehicle.  However, 
because each vehicle will have received the same information and contains the same control law, all three calculations 
should be identical.  In case of an error, the control matrix from the hub vehicle will be transmitted and employed.

34

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Metrology
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Requirements
Must exhibit control in two modes
(cid:122) Steady state
(cid:122) Spin-up/de-spin
Robust controller
(cid:122) Disturbance rejection
(cid:122) Trajectory following
Rotation rate in steady state of system to be 
1 RPM
TBDs
(cid:122) Displacement error
(cid:122) Maximum relative angle error

CDIO3 Class Project

35

<LS>

These requirements are derived from the requirements document.  A maneuver is stated in the requirements document that 
the vehicles must begin at rest, spin-up to steady state, and de-spin to rest in a total of five minutes.  The steady state 
rotation must be 1 RPM.  This requirement may be relaxed due to the time constant of the new magnets.

The displacement error was initially limited to one tenth the separation distance between the two vehicles.  This comes 
from the limit on the accuracy of the metrology inputs.  However, this requirement might be changed when a better 
understanding of the system is gained.  Currently, the maximum relative angle error is only know to be a fraction of ninety 
degrees.  When the physics of the system is better understood, this requirement will be refined.

35

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Metrology
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Risks

Designing a controller using the 
numerical model of near field 
effects of magnets
Designing a controller for a slow 
time constant
Finding an efficient controller for 
spin-up

CDIO3 Class Project

36

<BAB>

Our first risk is that it is difficult to evaluate the analytical model of the near field effects of the electromagnets.  Initially the project was 
going to use electromagnets made of iron cores wrapped with copper wire.  These electromagnets were found to be too weak for our
application.  Therefore the Electromagnet team decided to use large coils of super-conducting wire. These electromagnets behave 
differently from the ones before.  Also, since we increased the radius of the coil without proportionally increasing the separation distance, 
the vehicles now fall in the near field.  In the near field, the B field is different than in the far field.  The equations that govern the B field 
are no longer analytical but numerical.  This makes it more difficult to evaluate the analytical model of the near field.  To mitigate this risk 
we will use a combination of computer simulations and empirical data to more accurately (and quickly) evaluate the near field effects.

The second risk is that the new magnets also behave differently given a step increase in current.  Although the final magnet design has not 
yet been chosen, the final design should be chosen with the magnet’s time constant in mind.  This means that the magnet should respond 
quickly enough to changes in input current to be controllable.  To mitigate this risk we have shown that, in theory, even if this magnet’s 
time constant is too slow (slower than the poles of the system) the system is still controllable.  By this we mean that if the controller were 
to take into account the behavior of the magnet and cancel out its effect then the system is controllable.  The problem here is exactly 
canceling out the effect of the electromagnet.  If we find that this method is not possible, then we will simply have to slow down the 
rotation rate of the system in steady-state until the electromagnet’s time constant is fast enough.

Our third risk lies in coming up with a plan for the Spin-up/de-spin controller.  There are an infinite number of trajectories to accomplish 
spin-up/de-spin.  The risk here is that our lack of understanding may not lead us to the most efficient controller.  To mitigate this risk we 
will use computer simulations and more accurate models to find the most efficient controller.

36

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Metrology
•Electronics
•Structure/Power
Integration
Budgets
Conclusion

Tasks
Quantify TBD requirements
Refine controller for steady-state
Model dynamics and build controllers for 
different test cases
1 vehicle: control relative angle and angular rate
1.
2 vehicles 1 fixed: demonstrate station keeping
2.
2 vehicles 1 fixed: change range and bearing
3.
2 vehicles not fixed: maintain separation distance 
4.
and bearing
2 vehicles not fixed: change separation distance 
and bearing
3 vehicles 1 fixed: demonstrate station keeping
2 vehicles: demonstrate spin-up
3 vehicles: demonstrate spin-up

6.
7.
8.

5.

CDIO3 Class Project

37

<BAB>

First we must develop a model for spin-up/de-spin. From this model, we will gain sufficient 
understanding to be able to design a spin-up/de-spin controller.  We already have a model 
and a controller for the Steady State mode.  We wish to refine these.  Most of our tasks are 
test driven.  We will use an incremental approach to our control construction.  Each of the 
tests above guides the controls team towards a controller ultimately capable of the three 
vehicle system the project wishes to build.

37

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Metrology
•Electronics
•Structure/Power
Integration
Budgets
Conclusion

START
1OCT
8OCT
10OCT
22OCT
31OCT
7NOV
19NOV
21NOV
5DEC
IAP
February

Schedule
END
31OCT
8OCT
17OCT
29OCT
5NOV
14NOV
3DEC
21NOV
10DEC
IAP
March

TASK
Quantify TBD requirements
Perform test case 1
Model/design for test cases 2 and 3
Model/design for test cases 4 and 5
Model/design for test case 6
Model/design for test case 7
Model/design for test case 8
Critical Design Review
Refine steady state controller
Assist in integration testing
Test cases 1-8 on vehicles

CDIO3 Class Project

38

<BAB>

This slide shows the Control teams milestones for the remainder of the project. A more 
complete schedule for testing depends on the functionality of the vehicles next semester.  
The schedule also depends on the tests other teams wish to perform.

38

Budgets

Part

Qty

Cost 
($)
0
0

Mass 
(kg)
0
0

0
--------

Power
(W / V)
0
0

0
---------

1
1

Controller
Total (per 
vehicle)
Misc.
Total (per 
system)

0
--------

0
0

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Metrology
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

CDIO3 Class Project

39

<BAB>

Since we are not a physical system our mass and power.  Our monetary budget is also zero 
since we have all the software and computers we need to carry model the system and design 
the controllers.

39

Metrology

<JEU>
Welcome to the Communications and Operations Subsystem section of the NAR 
presentation.  Erik Stockham will present.

40

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Metrology Overview
Determine position and 
orientation of each vehicle within 
the system
Uses IR and Ultrasonic 
transmitters and receivers
(cid:122) 1 Ultrasonic transmitter and 3 
Ultrasonic receivers per vehicle
(cid:122) 2 IR transmitters and 3 IR receivers 
per vehicle

CDIO3 Class Project

41

<om> The basic goal of the Metrology system is to determine the position and orientation 
of each vehicle in the system.  The system design uses IR and Ultrasonic transmitters to do 
these estimations.  

41

EMFFORCE Metrology Overview 
EMFFORCE
(cont)
Time difference of IR receive and 
Ultrasonic receive determines 
distance
Triangulation using Ultrasonic 
receivers determines angle
Rate Gyro determines angular 
rate of each vehicle

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

CDIO3 Class Project

42

<om>The basic algorithm for the system uses the time difference of the IR and Ultrasonic 
signals to determine the distance of the other vehicles.  In addition, the orientation of the 3 
receivers help determine the angle from which the signal came.  The system currently takes 
longer than the required refresh rate, so a rate gyro gives us data to update the change in 
angle to the required refresh rate.

42

EMFFORCE Metrology Overview 
EMFFORCE
(cont)

Rate 
Gyro

Data

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

IR 
Sensor

Ultrasonic 
Sensor

Data

Initial 
Conditions

Computer

Angle 1
Angle 2
Position 1   Position 2
Omega

CDIO3 Class Project

43

<om> The angle and is determined from the rate gyro, using the initial conditions 
set by the IR and Ultrasonic sensors.  The rate gyro has a drift rate that prevents it 
from being accurate when integrated.  The rate gyro can be configured to the refresh 
rate desired by the control system.  The position data will be solely determined by 
the IR and Ultrasonic sensors.  In order to get position data at the required refresh 
rate a velocity calculation will need to be done from distance and time data provide 
by previous readings.  The estimated velocity will then be used to calculate the 
position of the vehicle to increase the refresh rate of the overall system.

43

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Requirements

Determine separation distance 
(cid:122) Goal:  sense to 1 cm
Determine relative attitude (direction) of 
vehicle to an angular tolerance 
dependent on angular controllability
Determine the angular rate of the system

CDIO3 Class Project

44

<om> Extracted from the requirements of the overall project, the goal of the metrology 
system is to accurately calculate relative distance and attitude of each vehicle and the 
orientation of the system.  Per the requirements document, accurately is defined as 1/10 of 
the control tolerance for both distance and angular readings.  In addition, the metrology 
system needs to have a field of view of 360º in a 2-D plane.    Next, the system needs a 
detection range compatible with test facilities.  These test facilities include the test facility 
at MIT and the Lockheed flat floor facility in Denver, CO.   Finally, the system needs to 
meet refresh rate requirements set forth by the control team, currently set to 60 Hz.

44

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Requirements Cont’d
Full field of view : 360 degrees in two 
dimensions
Sensing presence of other vehicles to a 
distance compatible with test facilities 
(cid:122) Max of approx 12 meters
Refresh rate compatible with control 
system requirements
(cid:122) Current predicted requirement 50 Hz

CDIO3 Class Project

45

<om> Extracted from the requirements of the overall project, the goal of the metrology 
system is to accurately calculate relative distance and attitude of each vehicle and the 
orientation of the system.  Per the requirements document, accurately is defined as 1/10 of 
the control tolerance for both distance and angular readings.  In addition, the metrology 
system needs to have a field of view of 360º in a 2-D plane.    Next, the system needs a 
detection range compatible with test facilities.  These test facilities include the test facility 
at MIT and the Lockheed flat floor facility in Denver, CO.   Finally, the system needs to 
meet refresh rate requirements set forth by the control team, currently set to 50 Hz.

45

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Risks
Current design requires and omni-
directional receiver
(cid:122) Currently working on design of reflective 
cones to modify directional receivers
Code bugs are difficult to predict and 
repair
(cid:122) Modular code allows for step by step 
testing and repair of code
System calls for level of accuracy that 
we have not yet achieved
(cid:122) Schedule accuracy testing and 
calibration at each phase of development

CDIO3 Class Project

46

We do not yet know the effect of the directional cones on the accuracy of distance measurement.  We have not yet decided 
on a final configuration for the cones.

Use of modular software design SHOULD help to catch bugs, however coding is never that easy.

We are still learning how to use the TT8  this will slow progress for some time.

Accuracy is of great importance but experience from SPHERES seems to indicate that sonic systems are very hard to 
calibrate.  Testing has demonstrated high sensitive.

46

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Tasks

Test 1 receiver with 1 transmitter 
(distance)
Test 3 receivers with 1 transmitter 
(distance and angle) 
Write/Test rate gyro code
Test 3 receivers with 2 transmitters 
(differentiation between two transmitters)
Test 3 prototypes with 3 receivers and 1 
transmitter each
Integrate rate gyros

CDIO3 Class Project

47

Currently scheduling shop time with Don to discuss fabrication of reflective cones based on the samples provided by the 
electronic ink corporation. 

-Linear distance measurement code was created over the summer by Maggie Sullivan.
-Oscar Murillio has created a Matlab script that calculate the distance and orientation given three linear distance 
measurements
-Currently working on combining the two pieces of code into an algorithm for 2D distance and orientation measurement 
with sonic inputs.

47

EMFFORCE
EMFFORCE

START
10 Sept

24 Sept

8 Oct
8 Oct

15 Oct

31 Oct

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

8 Oct

Scheduling
END
TASK
Test 1 receiver with 1 transmitter 
24 Sept
(distance)
Test 3 receivers with 1 transmitter 
(distance and angle) 
Write/Test rate gyro code
Test 3 receivers with 2 transmitters 
(differentiation between two 
transmitters)
Test 3 prototypes with 3 receivers and 
1 transmitter each
Integrate rate gyros

15 Oct
15 Oct

22 Oct

31 Oct

CDIO3 Class Project

48

We’ve broken the task down into steps to better track our progress.

Preliminary testing was inconclusive.  Testing was delayed since reflective cones were not readily available.  Instead we proceeded to work 
on the 3 receiver system.  We will continue testing as soon as the hardware is ready.

We are planning to work on the rate gyro code using the gyros left over from SPHERES.  We will order our own gyros at a later date, 
based on results from code tests.

48

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Control
•Metrology
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Electronics
•Structure/Power
Integration
Budgets 
Conclusion

Budgets

Cost
($)
70 
30 

Mass
(kg)
0.05
0.04

1200

0.06 

Part

Sonic (1+3)
IR (2+3)

Gyros 

Total (per vehicle)

1300

0.15 

Miscellaneous

300

N/A

Total (system)

4200

0.45 

Power
(W at V)
5
5

0.3
0.25

8 to 24 

N/A

0.16 to 
1.2 
0.71 to 
1.75
N/A

2.13 to 
5.25

CDIO3 Class Project

49

Though we already have most of the IR and Sonic units that we need (thanks to a generous donation from the Electronic 
Ink Corp.)  We may still need to purchase some of the components, namely IR receivers and circuit boards to interface 
with the sensors.  

We have included a miscellaneous category to our budget because we are afraid of unknown added cost associated with 
design and production of circuit boards.

It was determined that accelerometers were not well suited to our application and would exceed our budget.

Rate gyros are still required to return angular rate data.

49

Communications and 
Operations

<JEU>
Welcome to the Communications and Operations Subsystem section of the NAR 
presentation.  Erik Stockham will present.

50

EMFFORCE
EMFFORCE

Communications Design

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Physical network of four (4) nodes 
and one (1) radio frequency channel
(cid:122) Ground station
(cid:122) One (1) DR2000 RF comm board w/ antenna 
(cid:122) Laptop w/ real-time monitoring and command
(cid:122) Three (3) test vehicles
(cid:122) One (1) DR2000 RF comm board w/ antenna 
each
(cid:122) Software runs on TT8 processor
(cid:122) Dedicated serial I/O on TT8 processor

CDIO3 Class Project

51

<JEU>
The communications design consists of a physical network of four nodes.  The ground station (laptop) and the 
three test vehicles comprise this network.  Each node has one DR2000 communications board with an antenna 
that operates on the system frequency (>900MHz for EM interference rejection).  The DR2000 has many 
desirable features including: hard-coded error-detection and correction, built-in packet transmission, small size 
and weight, and low voltage draw.  

The ground station node consists of a laptop running real-time monitoring and command software.  The ground 
station node only uses its antenna actively if it issues a command. Otherwise, the ground station passively 
observes the system and archives the telemetry data sent through the communication channel. It will only issue 
commands for corrective or emergency maneuvers, or to set the mission.

Each test vehicle also maintains communications software space with the onboard avionics TT8 processor.  The 
avionics subsystem will also assign hardware pins to the communications subsystem for use with the DR2000 
communications board.

51

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Network Data Flow
Sensors/
Instruments
T1  T2  T3  T4

Cmds

Avionics 
SW
Red (N2)

Comm
SW

RF 1

White (N3)

RF Channel (Broadcast)

Blue (N4)

Hard Disk 
Archive
Off-Line Monitoring
Plotting and 
DH SW

RF 1

Comm
SW

Real-Time GUI
On-Line Monitoring

Real-Time GUI

Ground Station (N1)

CDIO3 Class Project

52

<JEU>
modified 10/1
This slide visually demonstrates the network design by describing the flow of data 
through the system.  The three test vehicles (Red, White, and Blue) are completely 
interchangeable and the ground station has the option of using off-line monitoring if 
deemed necessary.  This slide also indicates some of the major interfaces between 
communications and operations and the other subsystems.

52

EMFFORCE
EMFFORCE

Communications Design
Software architecture designed for heaviest load 
scenario
(cid:122) Each vehicle transmits its primary vehicle array (PVA) 
AND calculates and transmits the Master State Array 
(MSA) of the cluster
(cid:122) Each vehicle compares received MSA’s to calculated
(cid:122) Sends flag if no match, chooses to implement MSA of the 
lead vehicle (hub)
(cid:122) All telemetry data forwarded to ground station for 
monitoring and archiving purposes
Number of running modules reduced as actual comm
channel load reduced (determined by controls team)
Least load: only ground station compares MSA’s, 
adjusts commands as necessary

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

CDIO3 Class Project

53

<JEU>
Until the control team makes a decision concerning which network architecture best meets its needs, the 
communications team plans to implement a software architecture designed to meet the heaviest load scenario. 
This scenario follows:
1. Each vehicle calculates & transmits its own primary vehicle array (PVA)
2. Each vehicle receives all PVA’s, then calculates & transmits the Master State Array (MSA) of the system
2. Each vehicle compares the received MSA’s to its calculated MSA
3. If the comparison fails, the vehicle sends a flag to the ground station, then it chooses to implement the 
MSA of the lead vehicle (hub)
4. The ground station receives all telemetry data (including health) for monitoring and archiving purposes. If a 
flag is raised, the operator makes a decision on whether to switch hubs, to initiate a controlled shutdown of 
the system, or to take no action
As it becomes more clear which architecture best suits the needs of the control team, unnecessary modules will 
be commented out.  Should the desired implementation fail to work, reverting to a higher load scenario will be 
trivial.

53

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Communications 
Requirements
Send information and instructions 
automatically from vehicle to vehicle
(cid:122) Control and metrology 
Send information and instructions on 
command from ground to vehicle 
(cid:122) Begin preprogrammed tests
(cid:122) Emergency intervention procedures 
Send flight health data to “ground” 
operator 
Have no protruding antennae that 
might interfere with dynamics

CDIO3 Class Project

54

<JEU>
The subsystem requirements are taken nearly verbatim from the Requirements document created during the first half of Spring term 2002.
The Communications subsystem should be able to send information and instructions automatically from vehicle to vehicle. This implies that during normal 
operational states, the subsystem must rely on software developed for the particular operational state. This further implies the need for robust communications 
software.
The subsystem should also be able to send information and instructions on command from ground to vehicle.  This implies that the software should be flexible 
enough to handle commands outside of normal operating states, including emergency interrupts and overrides.
Furthermore, these requirements imply that the subsystem hardware should have sufficient range to operate between all vehicles and the ground station.
The communications subsystem should be able to send flight health data to the “ground” operator.  This implies that the subsystem should supply sufficient 
bandwidth (and hence have sufficient data rates) to process telemetry (and other test data), health, and commands.  This also suggests either a full duplex system or 
multiple communication channels to handle forward-path (user to Hub) communications and reverse-path communications (Hub to user).
The communications subsystem shall have no protruding antennae that might interfere with dynamics.  This implies that the system will NOT be tethered, hence a 
wireless form of communication.  Furthermore, this implies that antennae are acceptable as long as they do not interfere with the dynamics of the vehicle.

54

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Communications Risks 

Comm channel capacity overload
(cid:122) Variable baud rate comm board
Software interfacing
(cid:122) Standardization 
(cid:122) Psuedocode
Intense EM environment
(cid:122) Shielding
COTS comm boards
(cid:122) Make necessary adjustments within 
passed data

CDIO3 Class Project

55

<ESS,JEU>
Specific demands of control and metrology systems may evolve beyond capability of Comm system to support all 
task loads.  While the interface has already been defined, unforeseen problems may arise that require additional 
wireless data transfer capability.  One way to mitigate this risk is to implement a communications board with a 
variable Baud rate. The number of baud’s per second is directly related to the number of bits per second that are 
passed through the system. 
Software interfaces between the two Groups tasked with software development will pose a challenge.  The Groups 
must constantly keep each other aware of any changes made to the interfaces so the integration does not run over 
schedule. This risk may be mitigated by standardization of software functions as well as comparison of psuedocode
among the two Groups prior to coding.
Intense EM environment may cause adverse interactions with electronics.  Similarly, the liquid nitrogen may damage 
sensitive electronic components if not properly handled.  These risks may be minimized using shielding.
COTS communications boards may not be completely adaptable to network architecture requirements.  The DR-
2000 boards are very capable and include a significant on-board data-processing capability.  However, the 
communications system as currently designed may require additional versatility.  Adding a secondary header within 
the packet framing standard pre-coded into the DR2000 should create the necessary versatility.

55

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Operations Design
Operational constraints at flat floor 
facility
(cid:122) Clean environment
(cid:122) System battery charging, replacing
System health monitoring and 
operator interface
Fault remediation and emergency 
states
(cid:122) Safe mode (actuation systems powered 
down)
(cid:122) De-spin mode (controlled reversion to 
rest)

CDIO3 Class Project

56

<JEU>
There exist several constraints brought about by operating outside of MIT: As dictated by the Lockheed Martin Flat Floor Facility in Denver, 
personnel may not walk out on the floor without protective footwear.  The floor is protected as a clean environment, thus personnel must undergo 
decontamination procedures prior to entering the test area. This will add time to test preparation. 
Constraints that exist whether at MIT or abroad: The laptop used must support the communications needs (as a node in the network) in addition to 
sustaining operational needs. The laptop must process the received data as fast as it arrives for real-time (and off-line) monitoring. The archived 
data will allow data analysis at a later time.
The batteries used by the vehicles will need to recharge. Once recharged, the batteries will replace those currently in the vehicles.
It will be necessary to monitor the health of the system at all time.  Critical health telemetry points will be given green, yellow, and red limits and 
will be plotted against time to measure rates. These will be observable on the operator interface (most likely labview).
Should an emergency occur, the operator will have the option to remediate the fault (if possible) or to call on emergency states to prevent 
catastrophic failure or injury.  Remediation of the failure can only occur if the failure can be detected and corrected before the failure becomes 
critical.  Emergency states include safe mode, where ONLY the actuation systems are powered down so the personnel on the floor may recover 
the vehicles safely. De-spin mode allows the operator to initiate a controlled reversion to rest whereby the personnel on the floor may recover the 
vehicles. Both states keep the electronics systems up so that telemetry data may still be collected for failure analysis.

56

EMFFORCE
EMFFORCE

Operations Design

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Normal operational states
(cid:122) Initialization (power up and diagnostics)
(cid:122) Deployment (vehicles positioned, mission 
set)
(cid:122) Spin-up (actuation turned on and 
commanded)
(cid:122) Steady-state rotation (maintains desired 
system rotational speed)
(cid:122) De-spin (controlled reversion to rest)
(cid:122) Recovery (vehicles brought off floor, air 
off)
(cid:122) Off (power down)

CDIO3 Class Project

57

<JEU>
The operations design also includes normal operation states. They are as follows:
Initialization. In this state, the vehicle powers up the electronics and checks for faults before the operators place the vehicle on the floor.  The 
ground station designates a vehicle as the hub, illuminating an LED on the selected vehicle. 
Deployment. Deployment activates the metrology and air carriage subsystems and guides the vehicles to their initial positions. The ground station 
transmits the planned mission to the vehicles, including initial position, desired steady state flight parameters, and other variables. 
Spin-up. At the command to initiate spin-up, the actuation devices leave standby mode and act upon commands from the control subsystem. 
Steady-state Rotation. When metrology indicates that the system is within the desired steady-state parameters, the system automatically enters 
steady-state rotation mode without operator input.  In this mode, the control algorithm changes to maintain the desired rotational velocity. 
De-spin. De-spin switches the control algorithm again to bring the vehicles to rest from the Steady-state Rotation Mode. After the vehicles have 
completed De-spin, they are placed in Safe Mode for recovery by operator command.
Recovery. Upon entering Safe Mode, the operators will attempt to first bring the vehicles to rest and then move them off the floor.  Once the 
vehicles are off the floor, the air carriage is powered down. 
Off.  The state where none of the electronics systems are drawing current and the air carriage is inactive.

57

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Operations 
Requirements
Protect operators, vehicles, and test 
equipment, and the mission from 
failures
(cid:122) Fault tolerance
(cid:122) System operations plan
Test Plan must demonstrate the 
feasibility of EMFF
(cid:122) Encompass all operational requirements
(cid:122) Data telemetry and storage for analysis

CDIO3 Class Project

58

<ESS>
The following priorities are set forth by Operations Team to guide all operational planning and implementation:
1. The well-being of our team members is more important than completing the project.  We must also safeguard 
the testing facility and associated equipment against damage from system malfunction.  Personal injury or severe 
infrastructure damage will negate any mission successes that may have been achieved.
2. Mission completion, which includes the satisfaction of all operational requirements listed for the system and 
is determined by the system test program.  Efficiently planning and conducting operations will save time and 
money.  We should do as little work and spend as little money as possible without jeopardizing the above 
priorities.  Equipment longevity must be promoted at all levels, as our two most valuable resources of time and 
money both suffer from broken parts that need to be either repaired or replaced.  Conservative stewardship of 
materiel will pay off in the long run.

58

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Operations Risks

Faults in hardware or software
(cid:122) Contingency planning 
(cid:122) Fault tolerance and robustness
Inadequate planning of Test Program
(cid:122) Test Program Plan; expendables: liquid 
nitrogen, batteries, CO2
(cid:122) List support equipment
Operator knowledge of system
(cid:122) Operations Plan and training

CDIO3 Class Project

59

<ESS>
Faults in hardware or software may cause equipment failure and/or safety hazards.  When things go wrong, the 
consequences are sometimes not predictable.  We could injure a crewmember, damage the system, or fail to 
complete a test if the team does not plan for as many failure modes as possible.  The goal here is to minimize the 
consequences of misdesign or malfunction
A poorly planned test program may fail to accomplish the objective of the entire mission: to demonstrate the 
feasibility of EMFF.  All factors must be accounted for, and performance margins should be included.  As things 
will always go wrong, there must be sufficient room to still finish the required tests.
Operators may lack essential knowledge of system functions for efficiency and troubleshooting.  When setbacks 
occur in the field, the operators assigned to that test mission must be able to solve problems quickly as they 
occur.  The division of the EMFFORCE team into two traveling groups necessitates good documentation and 
training for those who are selected to go.

59

EMFFORCE
EMFFORCE

Tasks

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Develop communications software
(cid:122) Packet creation and transmission s/w
(cid:122) Token ring s/w
(cid:122) Data handling and archive system s/w
Develop real-time Operations GUI
(cid:122) Fault tolerance, safety, test telemetry
Software Integration
(cid:122) Archive and data handling with GUI
(cid:122) Communications and operations s/w with other 
subsystem s/w
Create System Test Program Plan
Create System Operations Plan 
incorporating all subsystems

CDIO3 Class Project

60

<ESS>
The Communications task is to build a system that can accomplish the communications mission of transmitting data from one vehicle to 
another as required by the other systems.  This will involve the integration of communications software and hardware and carefully tracking 
electronic interfaces with the other subsystems, especially Avionics Team and the Formation Flight Group.
The Operations tasks are to manage everything not physically included on the vehicles and to prepare the system for real-time testing and 
evaluation.  The EMFFORCE vehicles will be controlled by the laptop ground station, which will provide the commands necessary for 
beginning and ending the tests.  It will also monitor the status of the test vehicles and collect data for analysis.  In addition to these mission-
critical functions, the operations equipment will serve to reduce the consequences of system failures or inaccuracies by intervening in the 
autonomous control system and either bypassing the error or commanding an emergency shutdown.
The Comm/Ops Team also must develop two documents: the System Test Plan and the System Operations Plan.  The Test Plan is the testing 
schedule for the field tests.  It will describe what objectives need to be met and how they will be measured, and will take into account the 
operational constraints of limited expendable resources.  The Operations Plan will standardize how the EMFFORCE Team operates the 
vehicles, and will include checklists for various functions as well as operator-oriented systems descriptions.  These will serve to counter the 
risk of lack of operator knowledge of the system.

60

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

START
17SEP

24SEP
24SEP
17OCT
14OCT
31OCT
04DEC
04DEC
13DEC
February
31Mar

Schedule
END
TASK
26SEP
Software interfaces and module 
plan, select and buy hardware
Comm modules ready for testing
Ops GUI ready for testing
Draft System Test Plan
Communications integration
All EMFFORCE software integrated
Integrate software with vehicles
System Test Plan
Operations Plan
Integration Testing
Field Tests

14OCT
17OCT
31OCT
31OCT
14NOV
13DEC
13DEC
04FEB

24Apr

CDIO3 Class Project

61

<ESS>
17SEP-26SEP
Software interfaces:  Set required software interfaces with Avionics, Control, and Metrology to solidify requirements for data transmission rates and 
processing.  Define discrete modules according to these interfaces. (ESS) Comm Hardware:Select and buy necessary CommOps Hardware (JEU)
24SEP-03OCT NAR: Set task and integration plan for remainder of project.(JEU)
24SEP-14OCT Comm Software:Write and debug all necessary Comm software(JEU)
24SEP-17OCT Primary Ops System: Implement core Ops system to occupy node on system communications network and to track interfacing test data. (ESS)
14OCT-31OCT Comm System:Integrate Comm hardware and software into a system containing the required modules.(JEU)
17OCT-31OCT Draft Test Plan: Create draft system Test Plan that will be included in CDR. The Test Plan must show that the system satisfies all operational 
requirements.(ESS)
31OCT-06DEC Ops System: Add functionality to Ops system to include realtime data display and decisionmaking aids designed to increase system reliability and fault 
tolerance.(ESS)
31OCT-14NOV Electronics, Formation Intergration: Combine all software modules and associated hardware from the Electronics and Formation Flight Groups and solve any 
interfacing problems.(JEU)
14NOV-21NOV CDR: Preparation and Presentation of current design and test results to date.(ESS,JEU)
04DEC-13DEC System Integration: Combine integrated Electronics and Formation Flight package with Structure and Actuation hardware to ready vehicles for full system 
test.  Solve any software issues discovered at CDR.(JEU,ESS)
04DEC-13DEC Test Plan:
Finalize the Test Plan that will guide the system testing in the Spring (ESS)
13DEC-04FEB Operations Plan: Create system operations plan based on CDR design that will detail how the system will be operated during the field-testing.(ESS)
04FEB-27FEB Integration Testing: Test the interfaces between all subsystems and make necessary modifications to system.(JEU,ESS)
27FEB-13MAR MIT Testing: Operate system in accordance with the Test Plan and modify system and/or Ops Plan as required.(ESS,JEU)
06MAR-13MAR Field Prep: Finalize all preparations for Field-testing(ESS)
13MAR-20MAR AR: Prepare and conduct AR(JEU,ESS)
31MAR-04APR Field Test:First Field Test
07APR-17APR Final mods:Fix anything that doesn’t work.  Probably too late.
21APR-24APR Field Test: Last Chance.

61

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm/Ops
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Avionics
•Structure/Power
Integration
Budgets
Conclusion

Part

Ops 
Laptop
DR2000 
kits
Total (per 
vehicle)
Total 
(ground)
Total (per 
system)

Budgets
Cost 
Mass 
(kg)
($)
1843
N/A

450

225

0.2

0.2

2068

N/A

3193

0.6

Power 
(W at V)
A/C outlet

.25 W

.25 W

110 V

3 V

3 V

A/C outlet, 
.25 W (RF)
1W

110 V, 
3V (RF)
3 V

CDIO3 Class Project

62

<ESS>
Comm Ops owns only the RF boards and antennae on the vehicles, which weigh less than 
0.2 kg (per vehicle).  Similarly, the power is needed only to drive the RF boards.
The system cost includes the Operations Laptop at $1843 and six new RF boards (RF 
Monolithics DR2000) at $225 each.  Each development kit comes with two RF boards, at a 
cost of $450 per kit. 
So long as nothing breaks, the only cost during prototyping and testing is labor, which is 
free.

62

Avionics

Amy Schonsheck

63

Avionics: Purpose

Manage computational resources
(cid:122) Throughput, RAM, ROM for control
Interfaces, interfaces, interfaces!
(cid:122) Standardize control, metrology, and 
communication interfaces
(cid:122) Organize software interfaces

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

CDIO3 Class Project

64

<MAS>

The purpose of the Avionics subsystem is twofold: (1) to manage computational resources on board the vehicles, and (2) to 
ensure all hardware and software interfacing with the central computer is standardized, including checking other 
electronics board interfaces.

1.

The primary purpose of avionics subsystem is to make sure the all communication, operation and metrology processing 
is done such that the control loop has the resources it needs to complete its calculations.  This includes:
Throughput: computer processes enough MIPS (million instructions per second) to calculate control loop in 
-
real time
ROM (EEPROM for TT8): semi-permanent FlashMemory for loading code
RAM: temporary memory for storing vehicle and master arrays (variable matrices)

-
-

2.

The secondary purpose of the avionics subsystem is to ensure all electronic connections around the computer are safe, 
both for the system and for the operators, as well as at optimal operational levels.

64

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

Avionics: HW Design
PWR (D)

Comm./Ops

RS 232

(D/A)

Power
Amp

RWA

EM

V
Reg.

Computer
(CPU/TPU)

PWR
(AA)

Metrology
Preprocessor

Metrology
Sensors

CDIO3 Class Project

65

<MAS>

The Avionics hardware design layout is as follows:
•Central to the avionics subsystem is the computer – a Tattletale Model 8 (TT8) with Motorola CPU and TPU.
•The computer interfaces directly with four other pieces of hardware:
•Voltage regulator – supplies 5V power to TT8 from AA batteries – Power Team
•Metrology – supplies Primary Vehicle Array updates through signal channel (wire)
•Comm/Ops – sends/receives all data going in/out of the immediate vehicle system from/to TT8.  
•Utilizes a serial cable connection (RS232).
•Power amplifier – takes the actuation signal output from TT8 to implement (using power from D cell 
batteries)

•Possible intermediate step of D/A converter, depending on the type of power amp used  
(switch-mode or not)

65

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

Avionics: SW Design
Main 
Metrology
Computer
Preprocessor
(TT8 1)
(TT8 2)

Sig.

Control SW

Avionics SW
(OS)

Comm/Ops SW

Metrology
SW

Signal

Data (RS232)

Met Sensors

Comm Antenna

CDIO3 Class Project

66

<MAS>

The Avionics hardware design layout is as follows:
•The main computer (TT8 1) holds software for three subsystems.
•Avionics software directs and manages all computational resources through a main function, or operating system 
(OS).
•Control software is the system control algorithm, implemented in C to run on the TT8.  Its module is called by the 
OS.
•Comm/Ops software controls all vehicle-vehicle and vehicle-ground data passing and communication.  It 
interfaces with the OS when gathering data to pack and send, and when distributing recently received and unpacked 
data.
•The second computer (TT8 2) holds the “Metrology Preprocessing System.”  The Metrology team is responsible for 
implementing their systems of transmitters, receivers and preliminary calculations.  The Avionics OS polls the Metrology TT8 
for updated Primary Vehicle Arrays (PVA).

66

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

Responsibilities
Computer hardware: Tattletale
Overall software architecture/flow
Wiring of electronics subsystems
(cid:122) Avionics (computer)
(cid:122) Comm/ops
(cid:122) Interfaces
(cid:122) Power (actuation vs. individual)
(cid:122) Metrology

CDIO3 Class Project

67

<MAS>

The final output of the Avionics includes the following:
•All items dealing with the Tattletale
•Overarching software plan and “operating system”
•Wiring together the electronics subsystems, including interfaces with power supply (AA for electronics boards) 
and power amps (connected to D cells for actuation).  
- Note:  There will be a significant amount of collaboration with the Structures team on the wiring 
design and with the Power team for the actuation and power supply.

67

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

Requirements

Manage CPU/TPU resources for 
all subsystems
(cid:122) Run control loop in real time
Manage control-HW interfaces
(cid:122) Metrology, actuation
Develop integrated SW system
Stay within system budgets

CDIO3 Class Project

68

<MAS>

-
-
-

Avionics Subsystem Requirements.
The Avionics subsystem shall:
1. Manage Central Processing and Time Processing Unit resources for all subsystems.  The central computer is the “brain” 
of each individual vehicle, and the focus of the avionics subsystem.  It must regulate processing power and memory 
among the subsystems that require calculations, particularly communications and control.  Specifically, the avionics must 
run the control loop [as written by Control Team] in real time. This includes:
Holding state matrices in memory that contain position, orientation, velocity, and rate data for the 
-
system
Updating the input matrices with Metrology data [after preprocessing in the Metrology subsystem]
Performing multiple degrees of matrix operations to run the loop
Sending the loop output to the amplifier for the actuation subsystems [EM, RWA], which sets the 
current flow.
2. Manage control-HW interfaces.  The Avionics Team must ensure that all signals entering and leaving the CPU are of 
appropriate voltage and strength.  This includes data input from the metrology preprocessing system in the form of the 
Primary Vehicle Array (PVA, explained in Communication section), and commanded output to the actuation elements.  
Between the actuators and the computer stands a power amplifier (primarily the responsibility of the Power team) which 
must be supplied with the correct signals to amplify.
3. Develop integrated SW system.  Although each subsystem team who requires computer programs will be writing its own 
code, the Avionics team is responsible for organizing all scripts into a single “operating system” on the central computer.  
This includes writing a master program as well as standardizing style for continuity purposes.
4. Stay within system budgets.  The system as a whole has strict budgets on mass, power draw, size, and cost.  To meet its 
requirements, the Avionics subsystem must abide by these budgets while still achieving the functional objectives.

68

Risks
Software compatibility
(cid:122) Difficult to manage and compile code written 
by 6 people
Wiring and software/hardware interfacing
(cid:122) Due to learning curve
Board Design/Procurement
(cid:122) May need to redesign and return boards

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

CDIO3 Class Project

69

<SJS>

Avionics can be broken down into two sections (1) software and (2) hardware. 

(1) Software compatibility may be the Avionics team’s biggest concern.  It is quite difficult for six people to write code that 
will function as one large composite code.  Actions must be taken to ensure code compatibility early on in the code 
writing process, so that problems can be fixed as they arise.

(2)Hardwiring and integration is another risk in that it is difficult to judge how long this will take the Avionics team.  The team 
is unexperienced in this field, and therefore a learning curve must be taken into consideration.  The subsystem boards 
may need to be redesigned and returned, so ample time in designing and receivng the boards must be allocated.

69

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

Tasks

Computer
(cid:122) Prioritize processes
(cid:122) Allocate I/O ports to each subsystem
Outside Hardware
(cid:122) Determine and provide amplification 
necessary for control output (actuation)
(cid:122) Procure additional subsystem boards 
Software
(cid:122) Produce EMFFORCE SW architecture 
(cid:122) Ensure compatibility of code from different 
subsystems

CDIO3 Class Project

70

<SJS>

Avionics Subsystem Requirements.
The Avionics subsystem shall:

1.
2.

3.
4.

Prioritize processes (That is, memory must be allocated to the comm., controls, and metrology accordingly).
Allocate channels and input/output pins to each subsystem.  (This is to ensure early on that the Tattletale has a sufficient 
amount of pins and channels for our vehicle to function and will ensure that no two subsystems plan on utilizing the same 
channel number).
Be responsible for any necessary signal conditioning for actuation.
Decide upon a single code template in order to ensure software compatibility and write the software “shell” code to 
integrate the various subsystems’s code.

70

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

Scheduling
END
26SEP

START
17SEP

TASK
Form plan with Comm team, 
Assign I/O Channels, 
Coding
Coding, board design
Setup/solder PR-8s, collect 
draft #1 of subsystem board 
plans
Code checkup
Signal conditioner design, 
Coding, hardwiring
Order subsystem boards

17SEP
11OCT

31OCT
18OCT

18OCT
18OCT

18OCT
31OCT

31OCT

31OCT

CDIO3 Class Project

71

<SJS>

The avionics team intends to follow this schedule (most recently updated: 01 October 2002) from the beginning of 
the Fall 2002 semester through CDR.  This schedule is subject to changes.  The avionics team first determined 
the necessary tasks pertaining to avionics (see section “RISKS”), then determined a logical order in which to 
complete these tasks.  Lead time of hardware, learning curves of avionics design, integration deadlines and goals 
(CDR deadline), and schedule compatibility with other subsystems are the driving forces of this schedule.

Because the largest risk is that of software incompatibility, one of the first tasks of the avionics team was to create a software 
template for all other subsystems to utilize.  Also, the Avionics team schedule includes many “software checkups” throughout 
the term.  These software checkups help to ensure that software is being designed by the various subsystems in such a manner 
that it can be easily integrated into the system near the end of the term.

Hardware integration will also be a major task of the Avionics team.  Therefore, the team plans on collecting various revisions 
of the individual subsystem boards from the other subsystem teams so that the Avionics team can monitor the board design 
progression.  The Avionics team also shall order the boards so that they can be integrated into the system by 22 Nov 2002.

71

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Comm
•Avionics
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure/Power
Integration
Budgets 
Conclusion

Part

Boards
Total 
(per 
vehicle)
PR-8
TT8 
Repair.
Total 
(per 
system)

Budgets
Cost 
Qty
Mass 
(kg)
($)
550
0.06kg
1100
0.12kg

2
----

Power
(W at V)
TBD
TBD

2
N/A

95
200

N/A
N/A

N/A
N/A

------

3595

--------

---------

CDIO3 Class Project

72

<SJS>

NOTE: The cost estimates were originally calculated for the entire system.  
•The cost-per-vehicle show in the table assumes two boards per vehicle.  TT8 cost budget is for Tattletale repair.
•An extended budget for each item should cover any repairs or replacements during the project; this is factored 
into the “system” calculation.
•PR-8 boards are for prototyping usage only, therefore, their mass does not factor into the vehicle or system 
mass.
•4PCB (custom board vendor/manufacturer) cannot give EMFFORCE accurate cost/mass estimates of the 
individual subsystem boards until the individual subsystems design the boards in detail.  This subsystem board 
design shall occur between now and 31Oct.  Power estimates shall also be determined at that time.

72

Power

73

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure
Integration
Budgets 
Conclusion

Power Subsystem
Purpose: Provide necessary voltages 
and currents to all other subsystems
Main design elements:
(cid:122) Rechargeable NiMH batteries
(cid:122) Design driven by electromagnet - high 
current, low voltage (cid:198) D-cells
(cid:122) Reaction Wheel – medium current, potentially 
high voltage (cid:198) D-cells
(cid:122) Electronics – low current, low voltage (cid:198) AA 
cells
(cid:122) Integration of voltage regulators, high-current 
power switchers, safety monitoring devices

CDIO3 Class Project

74

<TAS>
The function of the power subsystem is straightforward – to provide electrical power to the rest of the system.  
The subsystems requesting power are the electromagnet, reaction wheel, metrology, avionics, and comm/ops.  
Each has a different set of voltage and current requirements that must be met by the power subsystem.

The present design calls for using rechargeable nickel metal hydride (NiMH) D-cells to provide the power for 
the electromagnet and reaction wheel.  The remaining subsystems will be powered by rechargeable NiMH AA-
cells.  The decision to use these types of batteries will be discussed in the requirements section.  Currently, most 
of the effort is focused on the design of the electromagnet batteries.  The electromagnet requires extremely high 
voltages (up to 100 Amps) at a low voltage, a combination rarely seen for high-power systems.  Designing this 
portion of the subsystem is quite a challenge, since most commercial products are not tailored for this type of 
application.

The reaction wheel will require a modest current at potentially high voltages, so D-cells will likely be used.  The 
electronic subsystems will operate at low voltages and low currents, so standard AA cells will be sufficient.

When completed, the final power subsystem will be an integration of the main batteries, voltage regulators, 
power switchers, and possible safety monitoring devices.

74

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure
Integration
Budgets 
Conclusion

Simplified Flowdown
Power will be divided into at least two 
separate systems:

D-cells

D-cells

Current Switchers/
Motor Controls

EM

RW

AA-cells

Voltage
Regulators

Metrology

Avionics

Electronics

CDIO3 Class Project

75

<TAS>
Here is the simplified flowdown of power from the main batteries to the individual subsystem components.  The 
power subsystem will be composed of two separate systems: D-cells and AA-cells.  The reasoning behind this is 
discussed in the requirements section.  The D-cell batteries will be linked to one or more current switchers 
and/or motor controls.  These will take inputs from the on-board computers and control the amount of current 
going through the electromagnet and reaction wheel.  The current switchers and motor controls will be similar to 
those found on modern electrical vehicles, which are designed to operate at very high currents.  The AA-cells 
will feed to a system of voltage regulators tailored to the specifications of the electronic subsystems.  The 
metrology, avionics, and communications subsystems can easily plug into the power subsystem.

75

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets 
•Structure
Integration
Budgets 
Conclusion

Current Design Work
Battery configurations:  Deciding how 
to configure the batteries to provide 
necessary voltages and currents

Power Switchers: Work on finding 
power switchers capable of handling 
high currents at low voltages

Safety issues: How to carry up to 100 
Amps of current safely between 
subsystems

CDIO3 Class Project

76

<TAS>
The current design work is focused on a few major areas.  First is figuring out the primary battery configurations.  The 
electromagnet will require the D-cell batteries to be wired in such a way as to provide high currents at relatively low voltages.  
The reaction wheel will require much higher voltages and lower currents and will have a different D-cell battery configuration.  
Likewise, the AA-cells must be wired in such a way as to provide adequate voltages to each of the other subsystems.

Part of the difficulty in the power design for the electromagnet is finding a current controller that is powerful enough to handle 
up to 100 Amps yet operates at a low voltage.  The D-cells are capable of providing very high currents, but since each cell is 
only 1.2 Volts, large voltage requirement means adding many more batteries in series.  This substantially increases the overall 
mass and cost.  Work is currently being done to find a controller that will meet the unique power needs of the system.

The third pressing issue is figuring out the logistics of how to safely carry up to 100 Amps of current throughout the 
EMFFORCE system.  Such high currents can cause many problems – among them are the batteries heating up to dangerous 
levels, risk of electric shock to the operators, and finding wires that can efficiently handle such high levels of current.  These 
issues must be dealt simultaneously with the rest of the subsystem design work.

Part of the safety design may also include health monitoring systems.  These would generally be small indicators (possibly 
LEDs) which would alert the operators of any problems with the batteries.  These could also be used to indicate when the 
batteries must be replaced.  Since these indicators are not considered to be of primary importance, their design will be saved 
until after the rest of the power subsystem is completed.

76

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure
Integration
Budgets 
Conclusion

Requirements 
Power subsystem must be self-contained

All batteries must be rechargeable

Battery lifetime should be 20 minutes
(cid:122) Batteries arranged in “packs” that can be removed to 
save weight if a shorter test time is desired

All electronic systems must remain functional 
even after EM/RW batteries are drained

CDIO3 Class Project

77

<TAS>
The power subsystem is being designed to meet a basic set of requirements.  These have developed over the course of the 
EMFFORCE project, and the most current requirements are the following:

The power subsystem must be self-contained – this requirement is actually true for all subsystems.  The nature of the project 
dictates that there be no wires or connections from the vehicles to the outside world.  Each vehicle must be free-floating, 
meaning that everything must be contained on board, including the power.

All batteries must be rechargeable – Both cost and environmental concerns factor into this requirement.  Due to the high 
number of batteries on board each vehicle, purchasing new batteries for every test would be infeasible.  Also, using 
rechargeable batteries prevents the need for disposable of hundreds of batteries over the course of the project.

Battery lifetime should be around twenty minutes – Originally, the lifetime requirement was thirty minutes, but in some cases 
it has been easier to design for a slightly shorter duration.  For example, battery weight can be reduced substantially if the 
requirement is reduced from thirty to twenty minutes.  The final goal is to have battery duration as close to thirty minutes as 
possible, but not less than twenty.

All electronic systems must remain functional even after the main batteries have been drained – This is the most recently added 
requirement.  The EMFFORCE team realized that it would be necessary to have communications, metrology, and avionics 
capabilities even if the batteries for the electromagnet and reaction wheel were drained.  For this reason, there will be at least 
two separate power systems on board.  One will be exclusively for the EM and RW (and will be composed of D-cells), and the 
other will be for electronic purposes (and will be composed of AA-cells).

77

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure
Integration
Budgets 
Conclusion

Motivating Risks

Controlling the current flow through the 
power switchers

Ensuring safety while drawing up to 
100 Amps of current through the 
system (personal safety and system 
safety)

Finding adequate chargers for D-cell 
batteries – improperly charging NiMH 
can cause permanent damage

CDIO3 Class Project

78

<TAS>
There are a few associated risks that are guiding the design process.  As mentioned earlier, controlling the flow of current 
through the power switchers is a difficult task.  Time must be spent finding an adequate controller and learning how to 
properly implement it in the system.  Also, the safety of drawing up to 100 Amps of current is a big risk factor.  The system 
must be carefully designed to minimize the risk of danger to the operators and to the other system components.  Finally, 
finding adequate chargers for D-cell batteries can be difficult.  Most chargers hold up to four batteries at a time, but the 
EMFFORCE project may need 50 or more batteries for each test.  Charging times also tend to be quite long (around 16 hours), 
and so this must also be taken into account.  These risks are the motivation for several of the tasks mentioned next.

78

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure
Integration
Budgets 
Conclusion

Tasks
Order D-cell batteries, begin high-
current draw tests
Order sample power switchers, 
implement with batteries
Find adequate D-cell chargers
Model the power subsystem, 
demonstrate full capability in the lab
Make final purchases of all components 
(batteries, switchers, voltage regulators)
Integrate into final system

CDIO3 Class Project

79

<TAS>
This is a list of tasks that must be completed by the end of the semester.  
Completing these tasks will help ensure a fully- designed and operational subsystem 
that can be easily integrated with the other subsystems.  The schedule for 
completion of these is given next.

79

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure
Integration
Budgets 
Conclusion

Schedule

END

10 OCT
24 OCT

START
26 SEP
26 SEP
1 OCT

17 OCT

24 OCT

7 NOV

12 NOV

TASK
Order sample switchers, batteries
Find, order D-cell battery chargers
Design overall system using lab 
models
Make final purchases of 
components
Test the final design, determine
integration with Structure
Ready for integration with all 
subsystems

CDIO3 Class Project

80

<TAS>
This is the tentative schedule for work on the power subsystem.  The schedule calls 
for full system integration to be ready by 11/12.  This is actually somewhat earlier 
than the planned integration for the rest of the subsystems.  Since the power 
subsystem should be ready before the other subsystems are complete, human 
resources can be re-allotted to help out other subsystems in need.

80

EMFFORCE
EMFFORCE

Budgets

Qty
20 X 2
10 X 2
5
2
3

-

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
•Structure
Integration
Budgets 
Conclusion

Part

D-cells
AA-cells
Chargers
Power Switchers
Voltage 
Regulators
Misc. Electronics
Total (per vehicle)

Total (per system)

Cost ($)
400
100
100
150
150

100
1000

3000

Mass (kg)
3.5
0.3
N/A
0.05
0.05

0.1
4.0

12.0

CDIO3 Class Project

81

<TAS>
Here is the proposed budget for the power subsystem.  It includes all the necessary 
components of the system with the most recent estimates for cost.  It is much higher 
than previously presented, but represents a more accurate estimate of the actual cost 
of each component.

81

Structure

82

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

Structures 
Responsibilities
Physical interfacing of subsystems
(cid:122) Provide structural “backbone” of vehicle
Subsystem packaging/magnetic 
shielding
(cid:122) Prevent magnet from interfering with 
electronics and vice versa
Air carriage
(cid:122) Allow frictionless translation to minimized 
external forces

CDIO3 Class Project

83

<ALS>

The structures team is responsible for three main items.  First, the subsystems must 
be integrated and oriented to allow their other interfaces to be in place.  This 
requires that the structures team manage the “real estate” inside of the vehicle, 
always keeping in mind issues such as minimizing mass, vehicle stability, and 
rotational symmetry.

Along with the physical architecture of the system, the structures team is 
responsible for development and testing shielding to prevent interference of the 
magnet with the electronics and vice versa.

Finally, the structures team must develop the air carriage system to allow the 
vehicles to translate frictionlessly.  This system includes a gas supply and storage 
system and a delivery system, commonly referred to as a “puck” because of its 
shape and function.

83

EMFFORCE
EMFFORCE

Structures Design 
Overview

LN2 Storage

Reaction wheel

Superconducting 
magnet coils

CO2 tank attach 
point

Subsystem 
packing space

Tripod air 
carriage

CDIO3 Class Project

84

<ALS>
This diagram shows a rough sketch of what the vehicles will look like with the superconducting magnets.  This is a drastic 
deviation from the previous core magnet design.  The reaction wheel will be mounted in the vertical center of the vehicle with 
the other subsystems packed around it.  The battery packs will stay underneath the reaction wheel to keep the CG low.  The 
container for the magnet will be designed to hold liquid nitrogen and to hold the vapor at a pressure to power the air carriage 
pucks.  This design has not been tested, so the CO2 tank attach point will be included so that the vehicle could use a tank 
instead.  The use of a tank will add 1kg of mass to the vehicle.

84

EMFFORCEPackaging/Shielding –
EMFFORCE
Requirements
Feasible Packaging
(cid:122) Rotational symmetry to within 
reaction wheel tolerances: O(0.01m)
(cid:122) Center of mass kept low for stability
(cid:122) Center of force at RW & EM

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
• Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

Shielding
(cid:122) Provide sufficient shielding to prevent 
interference

CDIO3 Class Project

85

<GG>

The requirements associated with the EMFFORCE packaging relate to the feasibility of the design.  In order to 
maintain simplicity in maneuvering and handling, as well as to avoid control problems the packaging must be 
rotationally symmetric.  The structures team must avoid a top-heavy design in order for stability, as well as take 
into consideration where the forces will act on the vehicles.

The packaging must include some sort of shielding (if necessary) to avoid magnetic interference between the 
magnet, electronics and other subsystems on board.

85

EMFFORCE Packaging/Shielding –
EMFFORCE
Risks/Motivation
Packaging
(cid:122) Strict mass limits
(cid:206) Use subsystems as structural 
components
(cid:122) Practical physical interfaces 
between subsystems
Shielding
(cid:122) Cost of material
(cid:122) Mass of material
(cid:206)Optimize subsystem placement in field

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

CDIO3 Class Project

86

<GG>

The ultimate design of the packaging must not only maintain feasibility but it must also weigh as little as 
possible.  Although there is no hard requirement on the mass of the packaging, the structures team aims to build 
zero mass packaging hopefully resulting in minimal mass possible.

The next main obstacle the structures team must overcome is the physical interfacing between subsystems.  The 
structures team must not only negotiate volume and space in the total packaging but must make sure all 
subsystem interfaces work smoothly and efficiently.

Again it is imperative that the structures team studies, tests, and shields if necessary the magnetic interference 
with the electronic subsystems.

86

EMFFORCE Packaging/Shielding –
EMFFORCE
Tasks
Test shielding capability as well as 
necessity using comparable prototype 
magnets
Design feasible and most efficient 
packaging and implementation of 
shielding
Draw CAD model to help determine 
mass and inertia properties
Build prototype packaging if necessary
Complete packaging manufacture

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

CDIO3 Class Project

87

<GG>

The structures team must design the most efficient packaging configuration.  The 
entire EMFFORCE team has helped with the initial layout, but the structures team 
must now refine that layout and work out the details.  A CAD model of the 
EMFFORCE vehicles will be helpful in calculating parameters such as the moment 
of inertia and mass of the vehicles, parameters useful to other subsystem teams.

87

EMFFORCE Packaging/Shielding 
EMFFORCE
Scheduling
END
TASK
3OCT
Conceptual physical layout

START
12SEP

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

3OCT

17OCT

3OCT
14NOV

14NOV
21NOV

21NOV

10DEC

10DEC

Determine shielding 
capability through testing
CAD Modeling, Prototyping
Integration with Actuation 
and Power
Integration with Electronics 
and FF
Complete physical 
integration

CDIO3 Class Project

88

<GG>

In order to meet the EMFFORCE milestones the structures team will follow this 
schedule.

88

EMFFORCE Packaging/Shielding 
EMFFORCE
Budgets
Mass 
Qty
Cost 
(kg)
($)
100
1.25
--
189

Power
(W / V)
0
0

3
1

3

85
185

189
774

0.25
1.5

--
4.5

0
0

0
0

CDIO3 Class Project

89

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

Part

Packaging
Shielding 
Sample
Shielding
Total (per 
vehicle)
Misc.
Total (per 
system)

<GG>

Although the structures team aims for a zero-mass packaging, a more realistic 
estimate is 1.5kg.  This includes all structural components such as nuts, bolts, and 
frame components.

The shielding kit is a one time purchase used only for testing and does not 
contribute to cost per vehicle.  <ALS>

89

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

<ALS>

Air Carriage –
Requirements
Air flow/puck configuration must 
be enough to support 15 kg for at 
least 20 minutes (Goal: 30 min)
(cid:122) Air flow is bounded variable
Ensure air supply will be steady 
and constant

CDIO3 Class Project

90

The air carriage must be able to support the mass of the vehicle for the entire test 
duration (defined in the requirements document as 30 minutes).  This makes airflow 
the bounded design variable:  it must be sufficient for the mass, but low enough to 
enable the air supply to last the test duration.  It follows, then, that the air supply 
must be steady and constant to ensure that the pucks float continuously.

90

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
• Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

Air Carriage –
Risks/Motivation
Puck development
(cid:122) Test time: air and power
(cid:122) Critical Mass: air and actuation 
capability
(cid:206)Optimize puck design
Air supply
(cid:122) Upright tank integration with packaging
(cid:206)Ensure magnet diameter large enough
(cid:122) Dealing with cryogenics
(cid:206)Leave footprint for tank

CDIO3 Class Project

91

The difficulties that the structures subsystem will face when dealing with the air carriage are not numerous.  First, by 
optimizing the puck design, the mass of the system will become less of a dominating factor in determining test duration.  

By far, the most difficult hurdle in the air carriage design will be integrating the air supply into the packaging, especially if the 
gas from the cryogenics system is used to power the pucks.  In this case, the structural nature of the magnet must be enhanced 
to allow it to be pressurized by the gas.  It is also a possibility to include a heating element to increase the rate of gas 
production.  This requires more complicated control and feedback and would introduce a software interface into the structures 
subsystem.  <ALS>

91

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
• Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

Air Carriage – Tasks

Research general lubrication 
theory and puck design
Manufacture prototype pucks 
varying:
(cid:122) Number of apertures
(cid:122) Radius of apertures
(cid:122) Puck diameter

CDIO3 Class Project

92

The structures team plans to develop the air carriage system architecture by the following progression:

First, structures will conduct general library research on lubrication theory and hydrostatic gas bearings.  This 
research will involve no mathematical modeling of the complex flow problem.  Rather, it is focused on a solid 
conceptual understanding of the principles behind gas bearings and common design strategies.  Next, the 
structures team will manufacture a set of prototype pucks to empirically test proposed puck design varying the 
design variables: number of apertures, radius of apertures, and puck diameter.  <ALS>

92

EMFFORCE Air Carriage – Tasks 
EMFFORCE
(cont.)
Test pucks varying:
(cid:122) Flow rate (on a single puck type, 
measure air gap)
(cid:122) Puck type (measure air gap at 
constant flow rate)
(cid:122) Mass
Liquid nitrogen air supply 
configuration (with EM team)

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
• Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

CDIO3 Class Project

93

Using the prototype pucks, the structures team will determine each configuration’s 
sensitivities to flow rate and mass as they relate to gap height.  Trends in these 
observations will enable the structures team to choose a locally optimum puck 
design.  <ALS>

Due to recent developments, the use of nitrogen gas (produced by the cryogenic 
system) might be a feasible option.  As the design of the electromagnet and cryo 
system develops, so too will the design for nitrogen use in the air carriage. <ALS>

93

EMFFORCE
EMFFORCE

Air Carriage Scheduling

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

START
12SEP
17SEP

17SEP
8OCT

END
17SEP
19SEP

4OCT
24OCT

8OCT

12NOV

14NOV

21NOV

TASK
Lubrication theory research
Liquid nitrogen proof of 
concept
Puck manufacture
Puck experiments and 
selection
Air supply testing and 
carriage design selection
Integration into packaging

CDIO3 Class Project

94

Lubrication theory research is ongoing, but the preliminary research was completed 
on 17 September.  The prototype pucks shall be manufactured and ready to test by 4 
October.  The puck testing in turn will be completed and a final puck design 
downselect made by 24 October.  The air carriage will be ready for structural 
integration coinciding with the actuation group on 14 November. <ALS>

Proof of concept testing of a nitrogen-boil-off air supply was completed on 19 
September.  Further testing will be ongoing as the physical architecture of the 
cryogenic system takes place.  <ALS>

94

EMFFORCE
EMFFORCE

Introduction
Subsystems
•Actuation
•Formation Control
•Electronics
•Structure/Power
•Power
•Structure
•Overview
•Requirements
•Risks
•Tasks
•Scheduling
•Budgets
Integration
Budgets 
Conclusion

1
3
1
3

Sheet Al
Plumbing
Tanks
Heating 
element 
(LN2)
Total (per 
vehicle)
Misc.
Total (per 
system)

Air Carriage Budgets
Part
Cost ($)
Power(W / 
Qty
Mass (kg)
V)
0
0
0
TBD

200
30
250
TBD

1
.5
1
TBD

95

250
540

2.5

--
7.5

TBD

--
TBD

CDIO3 Class Project

95

To prototype, test, and build the air carriage, the structures team requires ¼ inch 
aluminum sheet for the pucks and plumbing fittings.  Rechargeable CO2 tanks have 
already been purchased for a total of $250.  If the nitrogen from the cryogenic 
system is used to supply gas to the pucks, the tanks are not needed.  The air carriage 
currently requires a mass budget of 2 kg, but this could be traded with other 
structural mass in the event that the nitrogen system is implemented. <ALS>

95

Integration

Stephanie Slowik
Melanie Woo

<SJS>

Stephanie Slowik and Melanie Woo, both current members of the EMFFORCE 
systems engineering team, shall present the project plan on integration.

96

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Integration

Subsystems are combined to 
form a functioning system
Can be a complicated process 
with unforeseen problems
(cid:122) Systems team allotment of over 4 
months for integration

CDIO3 Class Project

97

<SJS>

Integration is the process by which the individual EMFFORCE subsystems are 
combined to form a functioning system. It is critical to have and follow a plan 
initiated in the design phase to address any integration concerns early on.  It is the 
duty of the systems team to ensure this ease of integration through subsystem plan 
analysis.  

97

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Integration - Phases

Phase I:  integration is happening 
between two groups and shall be 
completed by 21Nov
(cid:122) Electronics: metrology, avionics, comm., 
controls, avionics power
(cid:122) Actuation: RWA, EM, main power
Phase II:  total system integration
(cid:122) System built into structure
(cid:122) Testing

CDIO3 Class Project

98

<SJS>

Integration is the process by which the individual EMFFORCE subsystems are 
combined to form a functioning system. It is critical to have and follow a plan 
initiated in the design phase to address any integration concerns early on.  It is the 
duty of the systems team to ensure this ease of integration through subsystem plan 
analysis.  

98

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Integration - Phases

ptember October
November December January
February March
April
M E B M E B M E B M E B M E B M E B M E B M E

ID Task Name
Comm/Ops
1
2
Avionics
3 Metrology
Electronics integration
4
EM
5
RW
6
Actuation power integration
7
Assemble Vehicle I
8
9
Assemble Vehicle 2 & 3
10
IAP
11 Modifications
12
Field Testing and Modifications
13

CDIO3 Class Project

99

<SJS>

The overall integration shall occur in two phases:

Phase I:  In phase one, integration is happening between two groups and shall be completed by 31Oct.  The 
electronics group shall be integrated with each other, yet still separate from the actuation group.

Phase II:  In phase two, integration shall occur between the Phase I Electronics and Actuation integration 
groups.  Phase II includes assembling one vehicle, the test of this vehicle, modifications, the assembly of the two 
remaining vehicles, and the two field tests.

99

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Integration – Phase I
Individual subsystems completed 
by 31Oct.

Electronics (comm., metrology, 
avionics) and Actuation (RW and 
Electromagnet) to be integrated 
separately and simultaneously by 
21Nov

CDIO3 Class Project

100

<SJS>

Comm./Ops, Avionics, Metrology, and much of the Controls subsystems shall be 
fully integrated by 14Nov.  Individual subsystems shall be integrated with 
themselves by 31Oct so that Phase I integration can be completed during the period 
from 31Oct – 14Nov.

100

EMFFORCE
EMFFORCE

Electronics Integration

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Comm/Ops
END
START
TASK

Avionics
END
START

24SEP

14OCT

14OCT

31OCT

SW written, 
debugged

Internal 
integration

24SEP

31OCT

24OCT

----

TASK

SW 
written, 
debugged

Hardware 
acquired

CDIO3 Class Project

101

<SJS>

Much of the error correction software has already been written.  Communications and Operations aims to have 
their software written and debugged by 14Oct so that complete Comm/Ops integration and subsystem level 
testing can occur until 31Oct.

The avionics subsystem shall consist of the overall software shell (the master program) that can call all other 
program procedures as well as the TT8 computers and the wiring between the computers and the various 
subsystems.  While most of the software shall be written by 31Oct, the majority of the hardware interfacing shall 
occur between 31Oct and 21Nov.

101

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Electronics Integration
Controls
Metrology
START
END
END
START

TASK

TASK

24SEP

24OCT

24OCT

31OCT

31OCT

14NOV

SW 
written, 
debugged
Internal 
integration 
(rate gyros, 
sensors
MSA SW 
written, 
debugged

31OCT

14NOV

MSA SW 
written, 
debugged

Control algorithm cannot 
be finalized w/out vehicle 
testing
Metrology to help Controls 
with code

CDIO3 Class Project

102

<SJS>

Metrology must design the sensors as well as write the software to determine vehicle location.  Integration between the 
metrology software and the hardware (transmitters and receivers) shall occur on an on-going basis.

The Controls team is developing its control algorithm in a series of 8 different stages.  Stages 1-5 can be completed without the 
vehicles; however, stages 6, 7, and 8 must make use of the built vehicles to fine tune the algorithm.  Therefore, the final stages 
of the Control subsystem can only be completed once the rest of the vehicles are designed and built (The Controls subsystem 
shall finish the subsystem design during Phase II scheduling).

102

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Electronics Integration

START

END

TASK

31OCT

14NOV

Complete SW integration

31OCT

07NOV

Procure circuit boards

07NOV

14NOV

Complete HW integration

14NOV

21NOV

SW/HW integration

07NOV

21NOV

Power integration

CDIO3 Class Project

103

<SJS>

The total electronics integration schedule is as shown above.

103

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Actuation Integration

EM and RW to be designed, 
fabricated, and integrated
RW schedule dependent upon 
EM tests in October
Main power system to be 
integrated by 21Nov

CDIO3 Class Project

104

<SJS>

Phase I integration for the Actuation section shall be completed by 21Nov.  It shall 
occur as the schedule following shows.

104

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Actuation Integration
START
END
TASK

08OCT

----

10OCT

17OCT

17OCT

----

24OCT

14NOV

14NOV

21NOV

Coil dimensions finalized, 
RWA variables finalized
Full size coil built/tested, 
Design RWA
Superconductor and RWA 
ordered
Coils and casing built and 
tested, test and balance 
RWA
Power integration

CDIO3 Class Project

105

<SJS>

Above is the Phase I schedule for the electromagnet and the reaction wheel 
assembly.  Dates are subject to change because they are based on estimates on 
material arrival and procurement time.

105

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Integration – Phase II
From 21Nov through end of 
semester
By end of term:  One vehicle 
assembled, CDR preparation
Two months to build and for 
modification
Field Test I (31Mar) and Field 
Test II (21Apr)

CDIO3 Class Project

106

<SJS>

Phase II consists of the integration of the two sections (electronics and actuation) 
developed in Phase I as well as the building, modification, and testing of the system.

106

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Integration – Phase II
START
END
TASK
21NOV
13DEC
Vehicle 1 Assembled
28NOV
05DEC
Prepare for CDR

05DEC
13DEC

05DEC
04FEB

04FEB

18FEB

04FEB
13MAR

13MAR
20MAR

CDR
Part Procurement, 
Vehicles 2 & 3
Testing/Modification, 
Vehicle 1
Build/Test Vehicles 2 & 3
Prepare for AR

CDIO3 Class Project

107

<SJS>

The following schedule is for the I&T of EMFFORCE.

107

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
•Overview
•Phase I
•Phase II
Budgets 
Conclusion

Integration – Phase II
START
END
TASK
20MAR
20MAR
24MAR
28MAR
13MAR
31MAR
31MAR
03APR
05APR
03APR
05APR
19APR
21APR
19APR
21APR
24APR

AR
Spring Break
Prepare for Field Testing
Field Test I
Ship
Modifications
Ship
Field Test II

CDIO3 Class Project

108

<SJS>

The following schedule is for the I&T of EMFFORCE.

108

Budgets

109

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
Budgets
•Mass Estimate
•Power Estimate
•Cost Budget
Conclusion

18

16

14

12

10

8

6

4

2

)
g
k
(
 
s
s
a
M

0
23-Feb

<MSW>

Mass Estimate

14-Apr

3-Jun

23-Jul

11-Sep

31-Oc t

Da te

CDIO3 Class Project

110

This is the mass estimate.  The first increase in mass corresponds to a resizing of the 
electromagnet core in April and the resulting increase in power and structures.  The 
decrease in mass at the beginning of September corresponds to the use of a coreless, 
superconducting coil.  The most recent increase in mass was due to the increase in 
size of the coil and an increase in mass of the structure and power.

110

EMFFORCE
EMFFORCE

Power Estimate

Introduction
Subsystems
Integration
Budgets
•Mass Estimate
•Power Estimate
•Cost Budget
Conclusion

Subsystem
RW
Metrology

Avionics
Structures

Part
Reaction Wheel
Sonic
IR
Gyros
Boards
Heater

Watts
0-200
.3
.25
.16 – 1.2
TBD
TBD

Voltage
0-40
5
5
8 – 24
TBD
TBD

CDIO3 Class Project

111

<MSW>

Currently, systems is tracking the required power at a certain voltage.  We are still 
waiting for estimates on the power requirement for the avionics boards, possible 
heater for the liquid nitrogen system, and the power supply for the coil.

111

Cost Budget

CDR

NAR

PDR

AR

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
Budgets
•Mass Estimate
•Power Estimate
•Cost Budget
Conclusion

60000

50000

40000

30000

20000

10000

)
D
S
U
(
 
t
e
g
d
u
B

0
13-Feb

4-Apr

24-May

13-Jul

1-Sep

10-Dec

29-Jan

20-Mar

9-May

28-Jun

21-Oc t
Da te

Total Budget

Budget Margin

Used Budget

Projected Budget

CDIO3 Class Project

112

<MSW>

This is the cost budget for the EMFFORCE Project.  The total budget is $50,000.  The budget margin is 30% 
before PDR, 20% between PDR and NAR, 15% between NAR and CDR, 10% between CDR and AR, and 0 
after AR.

The large peak in the projected budget in September corresponds to a rise in cost due to the design change to 
superconducting coils.  The drop at the beginning of October corresponds to a significant decrease in the 
projected cost of the superconducting wire.

The peak in the used budget may be attributed to the laptop and to the communication boards purchased.

112

Conclusion

113

EMFFORCE
EMFFORCE

Introduction
Subsystems
Integration
Budgets 
Conclusion

Conclusion

Design altered to utilize 
superconducting electromagnets
By end of semester, one vehicle 
to be assembled
Within 15% budget margin

CDIO3 Class Project

114

114

Questions
?

115


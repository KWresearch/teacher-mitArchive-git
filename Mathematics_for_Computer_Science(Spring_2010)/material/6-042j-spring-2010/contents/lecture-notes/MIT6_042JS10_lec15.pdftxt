Mathematics for Computer Science
MIT 6.042J/18.062J

Stable
Matching

Albert R Meyer, March 8, 2010 

lec 6M.1 

Clip art in this lecture © source unknown.  All rights reserved. 
This content is excluded from our Creative Commons license. 
For more information, see http://ocw.mit.edu/fairuse.

1

Clip art in this lecture © source unknown.  All rights reserved. 
This content is excluded from our Creative Commons license. 
For more information, see http://ocw.mit.edu/fairuse.

2

Stable Marriage 

Stable Marriage 
Problem:
Marry everyone without 
any rogue couples! 

Albert R Meyer, March 8, 2010 

lec 6M.14 

Stable Marriage 

Stable Marriage 

More than a puzzle: 
College Admissions 
(original Gale & Shapley paper, 1962)
Matching Hospitals & Residents. 
Matching Dance Partners. 

Photograph of dancing students removed due to copyright restrictions.

Albert R Meyer, March 8, 2010 

lec 6M.20 

Albert R Meyer, March 8, 2010 

lec 6M.21 

The Mating Ritual 
(day by day) 

Albert R Meyer, March 8, 2010 

lec 6M.22 

Clip art in this lecture © source unknown.  All rights reserved. 
This content is excluded from our Creative Commons license. 
For more information, see http://ocw.mit.edu/fairuse.

3

Mating Ritual 

Mating Ritual 

Stop when no girl rejects. 
Each girl marries her 
favorite suitor (if any). 

Termination:
   there exists a Wedding Day. 
Partial Correctness:
(cid:129) everyone is married. 
(cid:129) marriages are stable. 

Albert R Meyer, March 8, 2010 

lec 6M.26 

Albert R Meyer, March 8, 2010 

lec 6M.27 

Stable Marriage: termination 
total # remaining names 
on boy’s lists:
  strictly decreasing 
  & N-valued
So  Wedding Day 

Mating Ritual: girls improve
Lemma:
A girl’s favorite tomorrow
will be at least as desirable 
as today’s. 
…because today’s favorite will 
stay until she rejects him for 
someone better. 

Albert R Meyer, March 8, 2010 

lec 6M.28 

Albert R Meyer, March 8, 2010 

lec 6M.31 

Clip art in this lecture © source unknown.  All rights reserved. 
This content is excluded from our Creative Commons license. 
For more information, see http://ocw.mit.edu/fairuse.

4

Mating Ritual: girls improve
Lemma:
A girl’s favorite tomorrow
will be at least as desirable 
as today’s. 

(favorite (G) is weakly
  increasing for each G) 

Mating Ritual: boys get worse
Lemma:
A boy’s 1st love tomorrow
will be no more desirable 
than today’s. 

…because boys work 
straight down their lists. 

Albert R Meyer, March 8, 2010 

lec 6M.32 

Albert R Meyer, March 8, 2010 

lec 6M.33 

Mating Ritual: boys get worse 
Lemma:
A boy’s 1st love tomorrow
will be no more desirable 
than today’s. 

(serenading (B) is weakly
  decreasing for each B) 

Mating Ritual: invariant

If G is not on B’s list, then she 
has a better current favorite. 
Proof: When G rejected B she 
 had a better suitor, and 
favorite (G) is weakly increasing.

Albert R Meyer, March 8, 2010 

lec 6M.34 

Albert R Meyer, March 8, 2010 

lec 6M.35 

On Wedding Day

• Each girl has  1 suitors 
    (by def of wedding day) 
• Each boy is married, or 
   has no girls on his list

Mating Ritual: everyone marries

Everyone is married on wedding day 
Proof: by contradiction.
If B is not married, his list is empty. 
By Invariant, all girls have favorites 
better than B -- so they do have a 
favorite.
                That is, all girls are married, 
so all boys are married. 

Albert R Meyer, March 8, 2010 

lec 6M.36 

Albert R Meyer, March 8, 2010 

lec 6M.37 

5

Mating Ritual: stable marriages 

Mating Ritual: stable marriages 

Marriages are Stable: 
Bob won’t be in rogue couple with 
case 1: a girl G on his final list,
since he’s already married to the 
best of them. 

Marriages are Stable: 
Bob won’t be in rogue couple with 
case 2: a girl G not on his list,
since by invariant, G likes her 
spouse better than Bob. 

Albert R Meyer, March 8, 2010 

lec 6M.38 

Albert R Meyer, March 8, 2010 

lec 6M.39 

Mating Ritual 
Who does better, 
boys or girls? 
Girls’ suitors get better, 
and boy’s sweethearts get 
worse, so girls do better?
No!
Albert R Meyer, March 8, 2010 

Stable Marriage 

More questions, rich theory 
(cid:129)other stable marriages
-can be many
  possible? 
(cid:129)do better by lying?
 boys -No!
girls -Yes!

Boy Optimal 

Mating Ritual is 
Optimal for all Boys 
at once. 
Pessimal for all Girls. 

lec 6M.40 

Albert R Meyer, March 8, 2010 

lec 6M.41 

Team Problems 

Problems 
1(cid:1)4

Albert R Meyer, March 8, 2010 

lec 6M.47 

Albert R Meyer, March 8, 2010 

lec 6M.48 

6

MIT OpenCourseWare
http://ocw.mit.edu

6.042J / 18.062J Mathematics for Computer Science
Spring 2010

For information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms .

